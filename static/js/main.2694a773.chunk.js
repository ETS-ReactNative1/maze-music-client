(this["webpackJsonpmaze-music"]=this["webpackJsonpmaze-music"]||[]).push([[0],{27:function(e,a,t){e.exports=t.p+"static/media/Avatar.8eb9086a.svg"},35:function(e,a,t){},45:function(e,a,t){e.exports=t.p+"static/media/arrow_left.d853e62d.svg"},46:function(e,a,t){e.exports=t.p+"static/media/arrow_right.4c81d3c3.svg"},47:function(e,a,t){e.exports=t.p+"static/media/download_icon.5bae45f2.svg"},51:function(e,a,t){e.exports=t(98)},98:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(21),s=t.n(c),l=t(7),i=t(15),o=t(48),u=t(3),m=t(1),p={recomendSongs:[]},d={myAlbums:[],currentAlbum:{}},f=t(12),E={},b={recomendArtists:[],save:!1,artist:{}},_=function(e){return(e-(e%=60))/60+(10<e?":":":0")+~~e},v={start:!1,song:function(){var e=localStorage.getItem("lastSong");return e?JSON.parse(e):{}}(),songFrom:[],currentDuration:"0:00",currentPlaylist:[],itemDuration:"0:00"},g=function(e,a){return a.map((function(e,a){if(v.song._id===e._id)return e})),a[0]},h="SHOW_ALERT",y={fullPlayer:!1,night:JSON.parse(localStorage.getItem("userNight")),header:!1,sidebarCollapsed:"boolean"==typeof JSON.parse(localStorage.getItem("collapsedSidebar"))?JSON.parse(localStorage.getItem("collapsedSidebar")):!(window.innerWidth>992),path:{name:"For you",path:"/for-you"},defaultPath:{src:"/for-you",name:"For you"},loading:!1,authType:!1,alert:[],modal:{type:"hidden"}},O=Object(i.b)({onPlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PLAY_SONG":return localStorage.setItem("lastSong",JSON.stringify(a.song)),a.song._id===e.song._id?Object(m.a)(Object(m.a)({},e),{},{start:!e.start}):Object(m.a)(Object(m.a)({},e),{},{song:a.song,start:!0,songFrom:a.list});case"PLAY_ALBUM":return Object(m.a)(Object(m.a)({},e),{},{currentPlaylist:a.payload.songs});case"NOW_SONG":return localStorage.setItem("lastSong",JSON.stringify(a.payload)),Object(m.a)(Object(m.a)({},e),{},{song:a.payload});case"SWITCH_SONG":return Object(m.a)(Object(m.a)({},e),{},{song:g(a.to,a.list)});case"SET_SONG_DURATION":return Object(m.a)(Object(m.a)({},e),{},{currentDuration:_(a.payload)});case"ITEM_DURATION":return Object(m.a)(Object(m.a)({},e),{},{itemDuration:_(a.payload)});case"SET_START":return Object(m.a)(Object(m.a)({},e),{},{start:a.payload?a.payload:!e.start});case"SET_CURRENT_PLAYLIST":return Object(m.a)(Object(m.a)({},e),{},{currentPlaylist:a.payload});default:return e}},songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_RECOMEND_SONGS":return Object(m.a)(Object(m.a)({},e),{},{recomendSongs:a.payload});default:return e}},artists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_RECOMEND_ARTISTS":return Object(m.a)(Object(m.a)({},e),{},{recomendArtists:a.payload});case"GET_ARTIST":return Object(m.a)(Object(m.a)({},e),{},{artist:a.payload});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PROFILE":return Object(m.a)(Object(m.a)({},e),a.payload);case"SET_MY_SONGS":return Object(m.a)(Object(m.a)({},e),{},{songs:a.payload});case"FETCH_MY_ALBUMS":return Object(m.a)(Object(m.a)({},e),{},{albums:a.payload});case"SET_SAVED_SONGS":return Object(m.a)(Object(m.a)({},e),{},{saved_songs:a.payload});case"SAVE_SONG":return Object(m.a)(Object(m.a)({},e),{},{saved_songs:a.isSaved?e.saved_songs.filter((function(e){return e._id!==a.payload._id})):[].concat(Object(f.a)(e.saved_songs),[Object(m.a)(Object(m.a)({},a.payload),{},{saved:!0})])});case"DELETE_SONG":return Object(m.a)(Object(m.a)({},e),{},{songs:e.songs.filter((function(e){return e._id!==a.payload}))});case"UPLOAD_SONG":return Object(m.a)(Object(m.a)({},e),{},{songs:[].concat(Object(f.a)(e.songs),[a.payload])});case"DELETE_ALBUM":return Object(m.a)(Object(m.a)({},e),{},{albums:e.albums.filter((function(e){return e._id!==a.payload}))});case"UPLOAD_ALBUM":return Object(m.a)(Object(m.a)({},e),{},{albums:[].concat(Object(f.a)(e.albums),[a.payload])});case"CHANGE_PROFILE_DESCRIPTION":return Object(m.a)(Object(m.a)({},e),{},{description:a.payload.description,description_large:a.payload.description_large});case"CHANGE_PROFILE_NAME":return Object(m.a)(Object(m.a)({},e),{},{name:a.payload.name,avatarNick:a.payload.avatarNick});case"CHANGE_PROFILE_AVATAR":return Object(m.a)(Object(m.a)({},e),{},{avatar:a.payload});case"LOG_IN":return Object(m.a)(Object(m.a)({},e),{},{auth:a.payload});case"LOG_OUT":return{};case"REGISTER":case"RECOVERY_PASS":return Object(m.a)(Object(m.a)({},e),{},{auth:a.payload});default:return e}},interface:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FULLPLAYER":return Object(m.a)(Object(m.a)({},e),{},{fullPlayer:a.payload});case"SET_NIGHT":return localStorage.setItem("userNight",!e.night),Object(m.a)(Object(m.a)({},e),{},{night:!e.night});case"SET_HEADER":return Object(m.a)(Object(m.a)({},e),{},{header:a.payload});case"CHANGE_DIR":return Object(m.a)(Object(m.a)({},e),{},{path:a.payload});case"CHANGE_AUTH":return Object(m.a)(Object(m.a)({},e),{},{auth:a.payload});case"COLLAPSE_SIDEBAR":return localStorage.setItem("collapsedSidebar",JSON.stringify(a.payload)),Object(m.a)(Object(m.a)({},e),{},{sidebarCollapsed:a.payload});case h:return Object(m.a)(Object(m.a)({},e),{},{alert:[].concat(Object(f.a)(e.alert),[a.payload])});case"HIDE_ALERT":return Object(m.a)(Object(m.a)({},e),{},{alert:a.payload});case"SHOW_MODAL":return Object(m.a)(Object(m.a)({},e),{},{modal:a.payload});case"HIDE_MODAL":return Object(m.a)(Object(m.a)({},e),{},{modal:{type:"hidden"}});case"LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:a.payload});default:return e}},albums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_NOW_ALBUM":return Object(m.a)(Object(m.a)({},e),{},{currentAlbum:a.payload});default:return e}}}),N=(t(35),t(4)),j=t(8),S=t(2),C=t.n(S),x=t(5),k=t(49),w=t.n(k);t(78).config();var A="http://localhost:5050/",L=(Object({NODE_ENV:"production",PUBLIC_URL:"/alexkos971/maze-music-client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL_LOCAL:"http://localhost:5050/",REACT_APP_API_URL_DEV:"https://maze-music-server.herokuapp.com/"}).LAST_FM_KEY,function(){return JSON.parse(localStorage.getItem("userData"))}),P=w.a.create({baseURL:A,headers:{Authorization:"Bearer ".concat(L()),withCredentials:!0,AcccessCrossOrigin:"*"}});P.interceptors.request.use((function(e){return"undefined"!==typeof window&&(e.headers.Authorization="Bearer ".concat(L())),e}));var T,D,R,H,I,F=P,M=function(e){return{type:"CHANGE_DIR",payload:e}},G=function(e){return{type:"SET_FULLPLAYER",payload:e}},U=function(e){return function(a,t){return a({type:"HIDE_ALERT",payload:t().interface.alert.filter((function(a,t){return t!==e}))})}},V=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:h,payload:e});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},B=function(e){return{type:"SHOW_MODAL",payload:e}},q=function(e){return{type:"LOADING",payload:e}},Y=function(e,a){return e.map((function(e){return a.length>0?e.saved=a.some((function(a){return a._id===e._id})):e.saved=!1,e}))},Z=Y,W=function(e){return e?{type:"FETCH_RECOMEND_SONGS",payload:Y(e,Ea.getState().profile.saved_songs)}:function(){var e=Object(x.a)(C.a.mark((function e(a,t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/api/songs/recomendation");case 3:n=e.sent,r=n.data,a({type:"FETCH_RECOMEND_SONGS",payload:Y(r,t().profile.saved_songs)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}()},J=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(q(!0)),a.next=4,F.post("/api/upload/track",e);case 4:return n=a.sent,(r=n.data).isSuccess?(t(V({type:"success",text:r.message})),t({type:"UPLOAD_SONG",payload:r.track})):t(V({type:"error",text:r.message})),t(q(!1)),a.abrupt("return",r.isSuccess);case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},z=function(e,a){return{type:"PLAY_SONG",song:e,list:Z(a,Ea.getState().profile.saved_songs)}},K=function(e){return{type:"SET_SONG_DURATION",payload:e}},X=function(e){return{type:"SET_CURRENT_PLAYLIST",payload:e}},Q=function(e){return e.split(" ").reduce((function(e,a){return e[0]+a[0]}))},$=function(){return function(){var e=Object(x.a)(C.a.mark((function e(a,t){var n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/api/users/profile");case 3:if(n=e.sent,!(r=n.data).isSuccess){e.next=10;break}return c=Q(r.profile.name),e.next=9,r.profile.saved_songs.map((function(e){return e.saved=!0}));case 9:return e.abrupt("return",a({type:"GET_PROFILE",payload:Object(m.a)(Object(m.a)({},r.profile),{},{avatarNick:c})}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a,t){return e.apply(this,arguments)}}()},ee=function(e){return{type:"SET_SAVED_SONGS",payload:e}},ae=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t,n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F.put("/api/songs/save/".concat(e._id),{isSaved:e.saved});case 3:r=a.sent,(c=r.data).isSuccess?(t(V({type:"success",text:c.message})),e._id==n().onPlay.song._id&&t({type:"NOW_SONG",payload:Object(m.a)(Object(m.a)({},e),{},{saved:!e.saved})}),t({type:"SAVE_SONG",payload:e,isSaved:e.saved})):t(V({type:"error",text:c.message})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},te=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t,n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"LOADING",payload:!0}),a.next=4,F.post("/api/auth/login",e);case 4:if(r=a.sent,!(c=r.data).isSuccess){a.next=14;break}return localStorage.setItem("userData",JSON.stringify(c.token)),a.next=10,t($());case 10:t({type:"LOG_IN",payload:{isSuccess:!0,token:c.token}}),t({type:h,payload:{type:"success",text:c.message}}),a.next=16;break;case 14:t({type:"LOG_IN",payload:{isSuccess:!1}}),t({type:h,payload:{type:"error",text:c.message}});case 16:return a.abrupt("return",t({type:"LOADING",payload:!1}));case 19:a.prev=19,a.t0=a.catch(0),console.log(a.t0);case 22:case"end":return a.stop()}}),a,null,[[0,19]])})));return function(e,t){return a.apply(this,arguments)}}()},ne=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t,n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t({type:"LOADING",payload:!0}),r=F.post("/api/auth/register",e),!(c=r.data).isSuccess){a.next=9;break}return t({type:h,payload:{type:"success",text:c.message}}),t({type:"REGISTER",payload:c}),a.abrupt("return",c);case 9:t({type:h,payload:{type:"error",text:c.message}});case 10:t({type:"LOADING",payload:!0}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return a.apply(this,arguments)}}()},re=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"LOADING",payload:!0}),a.next=4,F.post("/api/auth/checkEmail",{email:e});case 4:n=a.sent,(r=n.data).isSuccess&&(t({type:"RECOVERY_PASS",payload:r.pass}),t({type:h,payload:{type:"success",text:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"}})),t({type:"LOADING",payload:!0}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},ce=["svgRef","title"];function se(){return(se=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function le(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var ie,oe,ue,me=function(e){var a=e.svgRef,t=e.title,n=le(e,ce);return r.a.createElement("svg",se({width:282,height:56,viewBox:"0 0 282 56",fill:"none",ref:a},n),t?r.a.createElement("title",null,t):null,T||(T=r.a.createElement("path",{d:"M67.36 16.32V44H63.72V23.36L54.52 44H51.96L42.72 23.32V44H39.08V16.32H43L53.24 39.2L63.48 16.32H67.36ZM90.4131 37.8H78.2531L76.0131 44H72.1731L82.2531 16.28H86.4531L96.4931 44H92.6531L90.4131 37.8ZM89.3731 34.84L84.3331 20.76L79.2931 34.84H89.3731ZM104.366 40.84H117.966V44H100.046V41.12L113.566 19.28H100.206V16.12H117.886V19L104.366 40.84ZM126.967 19.08V28.4H137.127V31.4H126.967V41H138.327V44H123.327V16.08H138.327V19.08H126.967ZM145.395 44.24C144.701 44.24 144.115 44 143.635 43.52C143.155 43.04 142.915 42.4533 142.915 41.76C142.915 41.0667 143.155 40.48 143.635 40C144.115 39.52 144.701 39.28 145.395 39.28C146.061 39.28 146.621 39.52 147.075 40C147.555 40.48 147.795 41.0667 147.795 41.76C147.795 42.4533 147.555 43.04 147.075 43.52C146.621 44 146.061 44.24 145.395 44.24Z",fill:"#8E8E8E"})),D||(D=r.a.createElement("path",{d:"M181.313 16.32V44H177.673V23.36L168.473 44H165.913L156.673 23.32V44H153.033V16.32H156.953L167.193 39.2L177.433 16.32H181.313ZM191.446 16.12V33.76C191.446 36.24 192.046 38.08 193.246 39.28C194.473 40.48 196.166 41.08 198.326 41.08C200.46 41.08 202.126 40.48 203.326 39.28C204.553 38.08 205.166 36.24 205.166 33.76V16.12H208.806V33.72C208.806 36.04 208.34 38 207.406 39.6C206.473 41.1733 205.206 42.3467 203.606 43.12C202.033 43.8933 200.26 44.28 198.286 44.28C196.313 44.28 194.526 43.8933 192.926 43.12C191.353 42.3467 190.1 41.1733 189.166 39.6C188.26 38 187.806 36.04 187.806 33.72V16.12H191.446ZM224.118 44.28C222.278 44.28 220.625 43.96 219.158 43.32C217.718 42.6533 216.585 41.7467 215.758 40.6C214.932 39.4267 214.505 38.08 214.478 36.56H218.358C218.492 37.8667 219.025 38.9733 219.958 39.88C220.918 40.76 222.305 41.2 224.118 41.2C225.852 41.2 227.212 40.7733 228.198 39.92C229.212 39.04 229.718 37.92 229.718 36.56C229.718 35.4933 229.425 34.6267 228.838 33.96C228.252 33.2933 227.518 32.7867 226.638 32.44C225.758 32.0933 224.572 31.72 223.078 31.32C221.238 30.84 219.758 30.36 218.638 29.88C217.545 29.4 216.598 28.6533 215.798 27.64C215.025 26.6 214.638 25.2133 214.638 23.48C214.638 21.96 215.025 20.6133 215.798 19.44C216.572 18.2667 217.652 17.36 219.038 16.72C220.452 16.08 222.065 15.76 223.878 15.76C226.492 15.76 228.625 16.4133 230.278 17.72C231.958 19.0267 232.905 20.76 233.118 22.92H229.118C228.985 21.8533 228.425 20.92 227.438 20.12C226.452 19.2933 225.145 18.88 223.518 18.88C221.998 18.88 220.758 19.28 219.798 20.08C218.838 20.8533 218.358 21.9467 218.358 23.36C218.358 24.3733 218.638 25.2 219.198 25.84C219.785 26.48 220.492 26.9733 221.318 27.32C222.172 27.64 223.358 28.0133 224.878 28.44C226.718 28.9467 228.198 29.4533 229.318 29.96C230.438 30.44 231.398 31.2 232.198 32.24C232.998 33.2533 233.398 34.64 233.398 36.4C233.398 37.76 233.038 39.04 232.318 40.24C231.598 41.44 230.532 42.4133 229.118 43.16C227.705 43.9067 226.038 44.28 224.118 44.28ZM242.795 16.12V44H239.155V16.12H242.795ZM248.039 30.04C248.039 27.32 248.652 24.88 249.879 22.72C251.105 20.5333 252.772 18.8267 254.879 17.6C257.012 16.3733 259.372 15.76 261.959 15.76C264.999 15.76 267.652 16.4933 269.919 17.96C272.185 19.4267 273.839 21.5067 274.879 24.2H270.519C269.745 22.52 268.625 21.2267 267.159 20.32C265.719 19.4133 263.985 18.96 261.959 18.96C260.012 18.96 258.265 19.4133 256.719 20.32C255.172 21.2267 253.959 22.52 253.079 24.2C252.199 25.8533 251.759 27.8 251.759 30.04C251.759 32.2533 252.199 34.2 253.079 35.88C253.959 37.5333 255.172 38.8133 256.719 39.72C258.265 40.6267 260.012 41.08 261.959 41.08C263.985 41.08 265.719 40.64 267.159 39.76C268.625 38.8533 269.745 37.56 270.519 35.88H274.879C273.839 38.5467 272.185 40.6133 269.919 42.08C267.652 43.52 264.999 44.24 261.959 44.24C259.372 44.24 257.012 43.64 254.879 42.44C252.772 41.2133 251.105 39.52 249.879 37.36C248.652 35.2 248.039 32.76 248.039 30.04Z",fill:"black"})),R||(R=r.a.createElement("rect",{x:21.5632,y:19.5897,width:3.82906,height:9.2583,rx:1.91453,transform:"rotate(45 21.5632 19.5897)",fill:"#00ADB5"})),H||(H=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 30C28 37.732 21.732 44 14 44C10.8499 44 7.94286 42.9596 5.60364 41.2038L7.75251 39.0549C9.52697 40.2815 11.6796 41 14 41C20.0751 41 25 36.0751 25 30C25 23.9249 20.0751 19 14 19C7.92487 19 3 23.9249 3 30C3 32.3718 3.75067 34.5683 5.0274 36.3649L2.88238 38.5099C1.07444 36.1515 0 33.2012 0 30C0 22.268 6.26801 16 14 16C21.732 16 28 22.268 28 30Z",fill:"#00ADB5"})),I||(I=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0085 39.0171C18.9838 39.0171 23.0171 34.9838 23.0171 30.0085C23.0171 25.0333 18.9838 21 14.0085 21C9.03326 21 5 25.0333 5 30.0085C5 34.9838 9.03326 39.0171 14.0085 39.0171ZM14.0087 36.5532C17.6232 36.5532 20.5534 33.6231 20.5534 30.0086C20.5534 26.394 17.6232 23.4639 14.0087 23.4639C10.3942 23.4639 7.46406 26.394 7.46406 30.0086C7.46406 33.6231 10.3942 36.5532 14.0087 36.5532Z",fill:"#00ADB5"})))},pe=r.a.forwardRef((function(e,a){return r.a.createElement(me,se({svgRef:a},e))})),de=(t.p,["svgRef","title"]);function fe(){return(fe=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function Ee(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var be,_e=function(e){var a=e.svgRef,t=e.title,n=Ee(e,de);return r.a.createElement("svg",fe({width:28,height:28,viewBox:"0 0 28 28",fill:"none",ref:a},n),t?r.a.createElement("title",null,t):null,ie||(ie=r.a.createElement("rect",{x:21.5632,y:3.58972,width:3.82906,height:9.2583,rx:1.91453,transform:"rotate(45 21.5632 3.58972)",fill:"#00ADB5"})),oe||(oe=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 14C28 21.732 21.732 28 14 28C10.8499 28 7.94286 26.9596 5.60364 25.2038L7.75251 23.0549C9.52697 24.2815 11.6796 25 14 25C20.0751 25 25 20.0751 25 14C25 7.92487 20.0751 3 14 3C7.92487 3 3 7.92487 3 14C3 16.3718 3.75067 18.5683 5.0274 20.3649L2.88238 22.5099C1.07444 20.1515 0 17.2012 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z",fill:"#00ADB5"})),ue||(ue=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0085 23.0171C18.9838 23.0171 23.0171 18.9838 23.0171 14.0085C23.0171 9.03326 18.9838 5 14.0085 5C9.03326 5 5 9.03326 5 14.0085C5 18.9838 9.03326 23.0171 14.0085 23.0171ZM14.0087 20.5532C17.6232 20.5532 20.5534 17.6231 20.5534 14.0086C20.5534 10.394 17.6232 7.46389 14.0087 7.46389C10.3942 7.46389 7.46406 10.394 7.46406 14.0086C7.46406 17.6231 10.3942 20.5532 14.0087 20.5532Z",fill:"#00ADB5"})))},ve=r.a.forwardRef((function(e,a){return r.a.createElement(_e,fe({svgRef:a},e))})),ge=(t.p,Object(u.b)((function(e){return{path:e.interface.path,collapsed:e.interface.sidebarCollapsed}}))((function(e){var a=e.dispatch,t=e.path,n=e.collapsed;return r.a.createElement("div",{className:"music__sidebar ".concat(n?"collapsed":"")},r.a.createElement("div",{className:"music__sidebar-logo"},r.a.createElement(pe,{className:"music__sidebar-logo-main",alt:"erte"}),r.a.createElement(ve,{className:"music__sidebar-logo-tablet",alt:"erte"})),r.a.createElement("ul",null,[{name:"For you",path:"/for-you",icon:"heartbeat",id:1},{name:"Artists",path:"/artist",icon:"users",id:2},{name:"Albums",path:"/albums",icon:"compact-disc",id:3},{name:"Songs",path:"/songs",icon:"music",id:4},{name:"Playlists",path:"/playlists",icon:"stream",id:5},{name:"Search",path:"/search",icon:"search",id:6},{name:"Upload",path:"/upload",icon:"cloud-upload-alt",id:7}].map((function(e){return r.a.createElement("li",{key:e.id,className:e.path===t.path?"active":""},r.a.createElement(l.c,{to:"".concat(e.path),onClick:function(){a(M({name:e.name,path:e.path})),a(G(!1))}},r.a.createElement("i",{className:"fas fa-".concat(e.icon," music__sidebar-item-icon")}),r.a.createElement("span",{className:"music__sidebar-item-text"},e.name)))}))),r.a.createElement("div",{className:"music__sidebar-collapse",onClick:function(){return a({type:"COLLAPSE_SIDEBAR",payload:!n})}},r.a.createElement("div",{className:"music__sidebar-collapse-wrap"},r.a.createElement("span",null,"Collapse"),r.a.createElement("i",{className:"fas fa-chevron-".concat(n?"right":"left")}))))}))),he=function(e){var a=e.onClick,t=e.disabled,c=e.text,s=(e.color,e.type),l=e.active,i=e.list,o=e.className,u=void 0===o?"":o,m=Object(n.useState)(!1),p=Object(N.a)(m,2),d=p[0],f=p[1],E=Object(n.useState)(i&&i[0]||null),b=Object(N.a)(E,2),_=b[0],v=b[1],g=Object(n.useState)(!1),h=Object(N.a)(g,2),y=h[0];h[1];return"message"!==s?"select"===s?r.a.createElement("div",{className:"music-button-select"},r.a.createElement("div",{className:"music-button-select-input",onClick:function(){return f(!d)}},r.a.createElement("p",null,_),r.a.createElement("i",{className:"fas fa-chevron-".concat(d?"up":"down")})),r.a.createElement("div",{className:"music-button-select-list ".concat(d?"active":"")},r.a.createElement("ul",null,i.map((function(e,a){return r.a.createElement("li",{onClick:function(){v(e),f(!1)},key:a},e)}))))):"checkbox"===s?r.a.createElement("div",{className:"music-button-checkbox ".concat(d?"checked":""),onClick:function(){f(!d)}},r.a.createElement("div",{className:"music-button-checkbox-check"})):r.a.createElement("button",{onClick:a,disabled:t,className:"music-button".concat(l?" active":""," ").concat(u)},c):y?r.a.createElement("div",{className:"music-button message"},c):void 0},ye=Object(u.b)((function(e){return{song:e.onPlay.song,full:e.interface.fullPlayer}}))((function(e){var a=e.dispatch,t=e.full,n=e.song,c=Object(j.f)();return r.a.createElement("div",{className:"music__main-full ".concat(t?"active":"")},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,n.name),r.a.createElement("div",{className:"music__main-full-info"},r.a.createElement("span",null,"Artist:",r.a.createElement(l.b,{to:"/artist/".concat(n.artist_id),onClick:function(){return a(G(!1))}},r.a.createElement("span",null," ",n.artist_name))),n.album_name&&r.a.createElement("span",null,"Album:",r.a.createElement(l.b,{to:"/album/".concat(n.album_id),onClick:function(){return a(G(!1))}},r.a.createElement("span",null," ",n.album_name))),n.genre&&r.a.createElement("div",{className:"music__main-full-info-genres"},r.a.createElement("span",null,"Genre:"),n.genre.map((function(e){return r.a.createElement(l.b,{to:"/genre/".concat(e),key:e,onClick:function(){a(G(!1)),c.push("/Search")},className:"music__main-full-info-genres-item"},r.a.createElement(he,{text:e,subClass:"mr-20",type:"button"}))})))),r.a.createElement("div",{className:"music__main-full-main"},r.a.createElement("div",{className:"music__main-full-main-cover"},r.a.createElement("img",{src:A+n.cover,alt:""}))),n.lyrics&&r.a.createElement("div",{className:"music__main-full-lyrics"},r.a.createElement("h3",null,"Lyrics:"),r.a.createElement("span",null,n.lyrics))))})),Oe=function(){return r.a.createElement("div",{className:"music__main-albums"},r.a.createElement("h2",{className:"subtitle"},"Albums"))},Ne=function(e,a){return a?{type:"SET_NOW_ALBUM",payload:Object(m.a)(Object(m.a)({},a),{},{songs:Z(a.songs,Ea.getState().profile.saved_songs)})}:function(){var a=Object(x.a)(C.a.mark((function a(t,n){var r,c,s;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(q(!0)),a.next=4,F.get("/api/albums/album/".concat(e));case 4:if(r=a.sent,!(c=r.data).isSuccess){a.next=14;break}return a.next=9,Z(c.album.songs,n().profile.saved_songs);case 9:s=a.sent,c.album.songs=s,t({type:"SET_NOW_ALBUM",payload:c.album}),a.next=15;break;case 14:t(V({type:"error",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u0431 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u043b\u044c\u0431\u043e\u043c"}));case 15:return a.abrupt("return",t(q(!1)));case 18:a.prev=18,a.t0=a.catch(0),console.log(a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e,t){return a.apply(this,arguments)}}()},je=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(q(!0)),a.next=4,F.post("/api/upload/album",e);case 4:n=a.sent,(r=n.data).isSuccess?(t(V({type:"success",text:r.message})),t({type:"UPLOAD_ALBUM",payload:r.album})):t(V({type:"error",text:r.message})),t(q(!1)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},Se=Object(u.b)((function(e){return{song:e.onPlay.song,start:e.onPlay.start,night:e.interface.night,loading:e.interface.loading,savedSongs:e.profile.saved_songs,currentPlaylist:e.onPlay.currentPlaylist,currentAlbum:e.albums.currentAlbum,recomendSongs:e.songs.recomendSongs}}))((function(e){var a=e.dispatch,t=e.song,c=e.start,s=e.my,i=e.night,o=e.type,u=e.setAlbum,m=e.editSong,p=e.currentPlaylist,d=e.currentAlbum,E=e.savedSongs,b=e.songs,_=e.setSongs;Object(n.useEffect)((function(){a(X(b))}),[b]);var v=function(){var e=Object(x.a)(C.a.mark((function e(t,n){var r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b,e.next=3,a(ae(t));case 3:if("Saved"===o){e.next=17;break}if(r[n].saved=!t.saved,"Album"===o){e.next=10;break}return e.next=8,a(_(r));case 8:e.next=14;break;case 10:return(c=d).songs=Object(f.a)(r),e.next=14,a(u(d._id,c));case 14:a(X(r)),e.next=18;break;case 17:a(X(E));case 18:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("ol",{className:"music__main-temp-songs-list".concat(i?"":" night")},p.map((function(e,n){var i;return r.a.createElement("li",{key:n,className:t._id===e._id?"now_play":""},o&&"Upload"!==o?r.a.createElement("i",{className:"fas fa-".concat(c&&t&&(null===t||void 0===t?void 0:t._id)===e._id?"pause":"play","-circle play_btn"),onClick:function(){a(z(e,b))}}):null,o&&"Upload"!==o&&r.a.createElement("div",{className:"music__main-temp-songs-list-avatar"},e.cover?r.a.createElement("img",{src:A+e.cover,alt:""}):null),r.a.createElement("span",{className:"music__main-temp-songs-list_name"},r.a.createElement(l.b,{to:"/Artist/".concat(e.artist_id),className:"music__main-temp-songs-list-link"},r.a.createElement("span",{className:"music__main-temp-songs-list_artist-name"},e.artist_name)),r.a.createElement("span",{className:"music__main-temp-songs-list-defis"}," - "),(null===(i=e.name)||void 0===i?void 0:i.length)>20?r.a.createElement("marquee",{scrollamount:"2",className:"music__main-temp-songs-list_track-name"},r.a.createElement("span",{className:"music__main-temp-songs-list_track-name-wrap"},e.name)):r.a.createElement("span",{className:"music__main-temp-songs-list_track-name"},r.a.createElement("span",{className:"music__main-temp-songs-list_track-name-wrap"},e.name))),r.a.createElement("span",{className:"music__main-temp-songs-list-album"},e.type?"single"==e.type?e.type:e.album_name:""),r.a.createElement("div",{className:"music__main-temp-songs-list_right"},"Upload"==o&&r.a.createElement("span",{className:"music__main-temp-songs-list_right-delete",onClick:function(){return m(e,n)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),s&&"single"==e.type&&r.a.createElement("span",{className:"music__main-temp-songs-list_right-trash",onClick:function(){return a((t=e._id,function(){var e=Object(x.a)(C.a.mark((function e(a){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0442\u0440\u0435\u043a ?")){e.next=15;break}return e.prev=2,a(q(!0)),e.next=6,F.delete("/api/songs/delete/".concat(t));case 6:n=e.sent,(r=n.data).isSuccess?(a(V({type:"success",text:r.message})),a({type:"DELETE_SONG",payload:r.song})):V({type:"error",text:r.message}),a(q(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),V({type:"error",text:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(a){return e.apply(this,arguments)}}()));var t}},r.a.createElement("i",{className:"fas fa-trash-alt"})),"Upload"==o?r.a.createElement("span",{className:"music__main-temp-songs-list_right-trash",onClick:function(){var e=p.filter((function(e,a){return a!==n}));_(e)}},r.a.createElement("i",{className:"fas fa-trash-alt"})):null,r.a.createElement("span",{className:"music__main-temp-songs-list_right-download"},r.a.createElement("i",{className:"fas fa-arrow-circle-down"})),o&&"Upload"!==o&&r.a.createElement("span",{className:"music__main-temp-songs-list_right-save",onClick:function(){return v(e,n)}},r.a.createElement("i",{className:"fa".concat(e.saved?"s":"r"," fa-heart")})),r.a.createElement("span",{className:"music__main-temp-songs-list_right-time_now"},"Upload"!==o?e.duration:"0:00")))})))})),Ce=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("span",{className:"loader first"}),r.a.createElement("span",{className:"loader second"}),r.a.createElement("span",{className:"loader thirth"}),r.a.createElement("span",{className:"loader fourth"}))},xe=Object(u.b)((function(e){return{album:e.albums.currentAlbum,myAlbums:e.profile.albums,loading:e.interface.loading}}))((function(e){var a=e.dispatch,t=e.album,c=e.loading,s=Object(j.g)().id;return Object(n.useEffect)((function(){a(Ne(s))}),[]),c?r.a.createElement(Ce,null):r.a.createElement("div",{className:"music__main-album"},r.a.createElement("h2",{className:"subtitle"},"Album: ",t.name),t.songs&&r.a.createElement(Se,{songs:t.songs,setAlbum:Ne,type:"Album"}))})),ke=function(e){return function(){var a=Object(x.a)(C.a.mark((function a(t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(q(!0)),a.next=4,F.get("/api/users/artist/".concat(e));case 4:n=a.sent,(r=n.data)&&t({type:"GET_ARTIST",payload:Object(m.a)(Object(m.a)({},r),{},{description_large:r.description.substr(0,30)+"..."})}),t(q(!1)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),t(V({type:"error",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0430\u0440\u0442\u0438\u0441\u0442\u0430"}));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},we=t(33),Ae=t(32),Le=t.n(Ae),Pe=t(45),Te=t.n(Pe),De=t(46),Re=t.n(De),He=(t(47),["currentSlide","slideCount"]),Ie=["currentSlide","slideCount"],Fe=Object(u.b)((function(e){return{start:e.onPlay.start,song:e.onPlay.song,profile:e.profile,collapsed:e.interface.sidebarCollapsed,myAlbums:e.profile.albums}}))((function(e){var a=e.dispatch,t=e.items,n=e.to,c=e.start,s=e.my,i=(e.myAlbums,e.collapsed),o=function(e){var a=e.currentSlide,t=(e.slideCount,Object(we.a)(e,He));return r.a.createElement("div",Object.assign({},t,{className:"slick-prev slick-arrow"+(0===a?" slick-disabled":""),"aria-hidden":"true","aria-disabled":0===a}),r.a.createElement("img",{src:Te.a,alt:"left-con"}))},u=function(e){var a=e.currentSlide,t=e.slideCount,n=Object(we.a)(e,Ie);return r.a.createElement("div",Object.assign({},n,{className:"slick-next slick-arrow"+(a===t-1?" slick-disabled":""),"aria-hidden":"true","aria-disabled":a===t-1}),r.a.createElement("img",{src:Re.a,alt:"right-con"}))},m={dots:!0,infinite:t.length>3,speed:500,prevArrow:r.a.createElement(o,null),nextArrow:r.a.createElement(u,null),arrows:!0,variableWidth:!0,slidesToShow:3,slidesToScroll:1};return"Artists"===n?r.a.createElement("div",{className:"music__main-slider"},r.a.createElement("span",{className:"music__main-slider-view"},"View all"),r.a.createElement(Le.a,m,t.map((function(e,t){var n;return r.a.createElement("div",{className:"music__main-slider-item ".concat(i?"large":""),key:t,onClick:function(){return a(M({name:"Artist",path:"/artist"}))}},r.a.createElement(l.b,{to:"/artist/"+e._id},r.a.createElement("div",{className:"music__main-slider-item-wrap"},(null===(n=e.avatar)||void 0===n?void 0:n.length)?r.a.createElement("img",{src:A+e.avatar,alt:"",className:"slider_img"}):r.a.createElement("div",{className:"music__main-slider-item-wrap-nick"},r.a.createElement("span",null,Q(e.name))),r.a.createElement("div",{className:"music__main-slider-item-wrap-text"},r.a.createElement("h2",{className:"music__main-slider-item-wrap_artist"},e.name),r.a.createElement("div",{className:"music__main-slider-item-wrap_desk"},r.a.createElement("span",null,e.albums.length," Albums | "),r.a.createElement("span",null,(e.listenings/1e5).toFixed(1),"M Followers"))))))})))):"Albums"===n?r.a.createElement("div",{className:"music__main-slider artist"},r.a.createElement("span",{className:"music__main-slider-view"},"View all"),r.a.createElement(Le.a,m,t.map((function(e){return r.a.createElement("div",{className:"music__main-slider-item ".concat(i?"large":""),key:e.name,onClick:function(){return a(M({name:"Album",path:"/album"}))}},r.a.createElement(l.b,{to:"/album/"+e._id},r.a.createElement("div",{className:"music__main-slider-item-hover jc-c"},r.a.createElement("span",{className:"music__main-slider-item-hover-play",onClick:function(){return a((t=e,function(){var e=Object(x.a)(C.a.mark((function e(a){var r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=10;break}return e.next=3,F.get("/api/albums/album/".concat(t._id));case 3:if(r=e.sent,!(c=r.data).isSuccess){e.next=8;break}return e.next=8,a(z(c.album.songs[0],c.album.songs));case 8:e.next=12;break;case 10:return e.next=12,a(z(t.songs[0],t.songs));case 12:return e.abrupt("return",a({type:"PLAY_ALBUM",payload:t}));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));var t,n}},r.a.createElement("i",{className:"fas fa-".concat(c?"pause":"play","-circle play_btn")})),s&&r.a.createElement("span",{className:"music__main-slider-item-hover-trash",onClick:function(){return a((t=e._id,n=e.name,function(){var e=Object(x.a)(C.a.mark((function e(a){var r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure delete album [".concat(n,"] ?"))){e.next=15;break}return e.prev=2,a(q(!0)),e.next=6,F.delete("/api/albums/delete/".concat(t));case 6:r=e.sent,(c=r.data).isSuccess?(a(V({type:"success",text:c.message})),a({type:"DELETE_ALBUM",payload:t})):a(V({type:"error",text:c.message})),a(q(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(a){return e.apply(this,arguments)}}()));var t,n}},r.a.createElement("i",{className:"fas fa-trash-alt"}))),r.a.createElement("div",{className:"music__main-slider-item-wrap"},r.a.createElement("img",{src:A+e.cover,alt:"",className:"music__main-slider-item-wrap-img slider_img"}),r.a.createElement("div",{className:"music__main-slider-item-wrap-text"},r.a.createElement("h2",{className:"music__main-slider-item-wrap_artist"},e.name),r.a.createElement("div",{className:"music__main-slider-item-wrap_desk"},r.a.createElement("span",null,e.listenings," listeners | "),r.a.createElement("span",null,e.songs.length," tracks"))))))})))):null})),Me=Object(u.b)((function(e){return{loading:e.interface.loading,start:e.onPlay.start,recomendSongs:e.songs.recomendSongs,recomendArtists:e.artists.recomendArtists,savedSongs:e.profile.saved_songs,song:e.onPlay.song,save:e.songs.save,profile:e.profile}}))((function(e){var a=e.dispatch,t=e.loading,c=e.recomendSongs,s=e.recomendArtists;return Object(n.useEffect)((function(){c.length?a(W(c)):a(W())}),[a]),Object(n.useEffect)((function(){a(function(){var e=Object(x.a)(C.a.mark((function e(a,t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t().artists.recomendArtists.length>0)){e.next=5;break}return e.abrupt("return",a({type:"FETCH_RECOMEND_ARTISTS",payload:t().artists.recomendArtists}));case 5:return e.next=7,F.get("/api/users/artists");case 7:n=e.sent,r=n.data,a({type:"FETCH_RECOMEND_ARTISTS",payload:r});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a,t){return e.apply(this,arguments)}}())}),[a,s]),t?r.a.createElement(Ce,null):r.a.createElement("div",{className:"music__main-for"},s.length?r.a.createElement("div",{className:"music__main-artist-artists"},r.a.createElement("h2",{className:"subtitle"},"Artists for you"),r.a.createElement(Fe,{items:s,to:"Artists"})):null,r.a.createElement("div",{className:"music__main-songs"},r.a.createElement("div",{className:"music__main-songs-nav"},r.a.createElement("h2",{className:"subtitle"},"Music for you")),(null===c||void 0===c?void 0:c.length)?r.a.createElement(Se,{songs:c,setSongs:W,type:"Songs"}):null))})),Ge=function(e){var a=e.classNames,t=Object(j.f)();return r.a.createElement("span",{className:"music__main-page-go-back ".concat(a),onClick:function(){return t.goBack()}},r.a.createElement("i",{className:"fas fa-chevron-left"}))},Ue=Object(u.b)((function(e){return{artist:e.artists.artist,recomendArtists:e.artists.recomendArtists,loading:e.interface.loading}}))((function(e){var a=e.dispatch,t=e.loading,c=e.artist,s=e.recomendArtists,i=Object(j.g)().id;return Object(n.useEffect)((function(){a(ke(i))}),[ke]),t?r.a.createElement(Ce,null):r.a.createElement("div",{className:"music__main-artist"},r.a.createElement("div",{className:"music__main-artist-header"},r.a.createElement(Ge,null),r.a.createElement("div",{className:"music__main-artist-header-desc"},r.a.createElement("h1",{className:"music__main-artist-header-desc-name"},c.name),r.a.createElement("span",{className:"music__main-artist-header-desc-about"},c.description),r.a.createElement("div",{className:"music__main-artist-header-desc-info"},c.tags?c.tags.map((function(e,a){return r.a.createElement(l.b,{className:"music__main-artist-header-desc-info-genre",to:"/Genre/".concat(e.name),key:a},e.name)})):r.a.createElement("span",{className:"music__main-artist-header-desc-info-genre"},"No Genre"),r.a.createElement("span",{className:"middot"},"\xb7"),r.a.createElement("span",{className:"music__main-artist-header-desc-info-listeners"},"69M listeners"),r.a.createElement("span",{className:"middot"},"\xb7"),r.a.createElement("span",{className:"music__main-artist-header-desc-info-albums"},"14 albums")),r.a.createElement("div",{className:"music__main-artist-header-desc-btns"},r.a.createElement(he,{type:"button",subClass:"dark mr-20",onClick:function(){return alert("follow")},text:r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark"}),r.a.createElement("span",null,"Follow"))}),r.a.createElement(he,{type:"button",onClick:function(){return alert("lister")},text:r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-play"}),r.a.createElement("span",{className:"ml-12"},"Listen"))}))),c.avatar?r.a.createElement("div",{className:"music__main-artist-header-avatar"},r.a.createElement("img",{src:A+c.avatar,alt:""})):r.a.createElement("div",{className:"music__main-artist-header-avatar-replace"})),r.a.createElement("div",{className:"music__main-artist-albums"},s.length&&r.a.createElement("div",null,r.a.createElement("h2",{className:"subtitle"},"Artists for you"),r.a.createElement(Fe,{items:s,to:"Artists"}))),r.a.createElement("div",{className:"music__main-artist-songs"},r.a.createElement("h2",{className:"subtitle"},"Most popular songs"),c&&c.songs?r.a.createElement(Se,{songs:c.songs,type:"Songs"}):r.a.createElement("h2",{className:"music__main-subtitle"},"This artists no have songs")))})),Ve=function(){return r.a.createElement("div",{className:"music__main-playlist"},r.a.createElement("h2",{className:"subtitle"},"My playlists"),r.a.createElement("ul",{className:"music__main-playlist-list"}))},Be=Object(u.b)((function(e){return{savedSongs:e.profile.saved_songs,song:e.onPlay.song,start:e.onPlay.start}}))((function(e){var a=e.savedSongs;return a?r.a.createElement("div",{className:"music__main-saved-songs"},r.a.createElement("div",{className:"music__main-saved-songs-head"},r.a.createElement("h2",{className:"subtitle"},"Saved songs"),r.a.createElement("div",{className:"music__main-saved-songs-head-sort"},r.a.createElement("span",null,"Sort by: "),r.a.createElement(he,{type:"select",list:["Last added","Older","Name"]}))),a&&a.length>0?r.a.createElement(Se,{songs:a,setSongs:ee,type:"Saved"}):r.a.createElement("span",{className:"music__main-empty-text"},"You dont have saved songs")):r.a.createElement(Ce,null)})),qe=function(){var e=Object(n.useContext)(Xe),a=e.setBtnDisabled,t=e.setForm,c=e.form,s=(e.setSteps,e.steps,e.setScrollSteps,e.scrollSteps,Object(n.useState)(!1)),l=Object(N.a)(s,2),i=l[0],o=l[1],u=[{type:"single",text:"Single track"},{type:"album",text:"Album (min - 5 tracks)"},{text:"EP (min - 2, max - 4 tracks)",type:"ep"}],p=Object(n.useState)(u[0].text),d=Object(N.a)(p,2),f=d[0],E=d[1],b=function(e){E(e.text),o(!1),t(Object(m.a)(Object(m.a)({},c),{},{type:e.type}))};return Object(n.useEffect)((function(){a(!1)}),[b]),r.a.createElement("div",{className:"music__main-upload-container-length"},r.a.createElement("p",{className:"music__main-upload-container-subtitle"},"Please select the type of uploaded content, Single track, Album or EP."),r.a.createElement("div",{className:"music__main-upload-container-length-dropdown"},r.a.createElement("div",{className:"music__main-upload-container-length-dropdown-input",onClick:function(){return o(!i)}},r.a.createElement("span",{className:"music__main-upload-container-length-dropdown-input-value"},f),r.a.createElement("span",{className:"music__main-upload-container-length-dropdown-input-carret".concat(i?" active":"")},r.a.createElement("i",{className:"fas fa-chevron-down"}))),r.a.createElement("div",{className:"music__main-upload-container-length-dropdown-list ".concat(i?"visible":"")},r.a.createElement("ul",null,u.map((function(e){return r.a.createElement("li",{key:e.type,onClick:function(){return b(e)}},e.text)}))))))},Ye=function(){var e=Object(n.useContext)(Xe),a=e.form,t=e.setForm,c=e.setBtnDisabled,s=Object(n.useState)(a.name||""),l=Object(N.a)(s,2),i=l[0],o=l[1];Object(n.useEffect)((function(){i&&i.length>0?(c(!1),t(Object(m.a)(Object(m.a)({},a),{},{name:i}))):c(!0)}),[i]);return r.a.createElement("div",{className:"music__main-upload-container-name"},r.a.createElement("p",{className:"music__main-upload-container-subtitle"},"Please select name of ",a.type),r.a.createElement("input",{type:"text",name:"name",required:!0,onChange:function(e){o(e.target.value)},placeholder:"name",value:i}))},Ze=function(){var e=Object(n.useContext)(Xe),a=e.setBtnDisabled,t=e.form,c=e.setForm,s=Object(n.useState)(t.genre||[]),l=Object(N.a)(s,2),i=l[0],o=l[1],u=i.length<3;Object(n.useEffect)((function(){a(!0),i.length<=3&&i.length>=1&&(c(Object(m.a)(Object(m.a)({},t),{},{genre:i})),a(!1))}),[i]);return r.a.createElement("div",{className:"music__main-upload-container-genres"},r.a.createElement("p",{className:"music__main-upload-container-subtitle"},"Select a genres of your ",t.type," (max 3 points)"),r.a.createElement("div",{className:"music__main-upload-container-genres-wrap"},["Pop music","EDM","Lo-Fi","Rock","Pop punk","Future House","Deep House","Alternative","Classic","Orchestral","Funk","Heavy Metal","R & B","Jazz","Indie","Folk","Dubstep","Industrial","Techno","Progressive House","Acoustic"].map((function(e){return r.a.createElement("div",{key:e,className:"music__main-upload-container-genres-wrap-button",onClick:function(){return function(e){var a=i.includes(e);if(!a&&u&&o([].concat(Object(f.a)(i),[e])),a&&(u||!u)){var t=i.filter((function(a){return a!==e}));o(t)}}(e)}},r.a.createElement(he,{type:"button",text:e,active:i.includes(e)}))}))))},We=Object(u.b)((function(e){return{night:e.interface.night}}))((function(e){var a=e.description,t=(e.field,e.file),c=e.setFile,s=e.type,l=e.night,i=Object(n.useState)(!1),o=Object(N.a)(i,2),u=o[0],m=o[1],p=Object(n.useRef)();Object(n.useEffect)((function(){if(p.current)return p.current.addEventListener("dragenter",d),p.current.addEventListener("dragleave",f),p.current.addEventListener("dragover",E),p.current.addEventListener("drop",b),function(){p.current.removeEventListener("dragenter",d),p.current.removeEventListener("dragleave",f),p.current.removeEventListener("dragover",E),p.current.removeEventListener("drop",b)}}),[p]);var d=function(e){e.preventDefault(),e.stopPropagation(),m(!0)},f=function(e){e.preventDefault(),e.stopPropagation(),m(!1)},E=function(e){e.preventDefault(),e.stopPropagation()},b=function(){var e=Object(x.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),a.stopPropagation(),a.dataTransfer.files.length>0&&(m(!1),c(a.dataTransfer.files[0]));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("label",{htmlFor:"track",className:"music__main-drag ".concat(u?"active":""," ").concat(l?"":"night"),ref:p},r.a.createElement("input",{id:"track",type:"file",name:"track",accept:s,required:!0,placeholder:"track file",onChange:function(e){e.target.files.length>0&&c(e.target.files[0])}}),r.a.createElement("div",{className:"music__main-drag-wrap"},r.a.createElement("i",{className:"fas fa-folder".concat(u?"-open":""," music__main-drag-folder-icon")}),r.a.createElement("h5",null,"Drag your files, or click to browse"),r.a.createElement("p",{className:"music__main-drag-description"},a),(null===t||void 0===t?void 0:t.name)&&r.a.createElement("div",{className:"music__main-drag-file"},r.a.createElement("p",{className:"music__main-drag-file-name"},t.name),r.a.createElement("div",{className:"music__main-drag-file-clear",onClick:function(){return c(null)}},r.a.createElement("i",{className:"fa-solid fa-xmark"})))))})),Je=Object(u.b)((function(e){return{name:e.profile.name}}))((function(e){var a=e.dispatch,t=(e.name,Object(n.useContext)(Xe)),c=t.form,s=t.setForm,l=t.setBtnDisabled,i=Object(n.useState)(c.track||null),o=Object(N.a)(i,2),u=o[0],p=o[1],d=Object(n.useState)(c.album||[]),E=Object(N.a)(d,2),b=E[0],_=E[1],v=Object(n.useState)(!1),g=Object(N.a)(v,2),h=g[0],y=g[1];return Object(n.useEffect)((function(){if(l(!0),u)if("single"!==c.type)if(b.some((function(e){return e.name===u.name})))a(V({type:"error",text:"\u0412\u044b \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u044d\u0442\u043e\u0442 \u0442\u0440\u0435\u043a !"}));else if(!1===h)_([].concat(Object(f.a)(b),[u]));else{var e=Object(f.a)(b);e[h]=u,_(e),y(!1)}else l(!1),s(Object(m.a)(Object(m.a)({},c),{},{track:u}));else b.length&&_(b.filter((function(e){return e.lastModified!==b[b.length-1].lastModified})))}),[u]),Object(n.useEffect)((function(){"single"!==c.type&&(s(Object(m.a)(Object(m.a)({},c),{},{album:b})),"ep"==c.type&&b.length<=5&&b.length>=2||"album"==c.type&&b.length>4?l(!1):(b.length||p(null),l(!0)))}),[b]),r.a.createElement("div",{className:"music__main-upload-container-files"},r.a.createElement("p",{className:"music__main-upload-container-subtitle"},"Upload file with a track (drag and drop file or click )"),"single"!==c.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"music__main-upload-container-description"},(c.type,"")),r.a.createElement("p",{className:"music__main-upload-container-description"},"The files must be uploaded in the order in which they will be displayed")):null,r.a.createElement(We,{description:"File should be a wave/mp3",type:"audio/wav, audio/mp3",field:"track",file:u,setFile:p}),"single"!==c.type?r.a.createElement("div",null,r.a.createElement(Se,{songs:b,type:"Upload",editSong:function(e,t){var n={name:e.name.split(".")[0],ext:e.name.split(".")[1]};a(B({type:"input",value:n.name,onSubmit:function(e){var a=new File([u],"".concat(e,".").concat(n.ext),{type:u.type});y(t),p(a)}}))},setSongs:_})):null)})),ze=function(){var e=Object(n.useContext)(Xe),a=e.form,t=e.setForm,c=e.setBtnDisabled,s=Object(n.useState)(a.cover||null),l=Object(N.a)(s,2),i=l[0],o=l[1];return Object(n.useEffect)((function(){c(!0),i&&(t(Object(m.a)(Object(m.a)({},a),{},{cover:i})),c(!1))}),[i]),r.a.createElement("div",{className:"music__main-upload-container-files"},r.a.createElement("p",{className:"music__main-upload-container-subtitle"},"Upload file with a cover (drag and drop file or click )"),r.a.createElement(We,{description:"File should be a jpeg/png",type:"image/jpeg, image/png",field:"cover",file:i,setFile:o}))},Ke=function(){return r.a.createElement("div",{className:"music__main-upload-container-final"},r.a.createElement("p",{className:"music__main-upload-container-subtitle"},"Now, you can send everything"))},Xe=Object(n.createContext)(),Qe=Object(u.b)((function(e){return e}))((function(e){var a=e.dispatch,t=Object(n.useState)(!1),c=Object(N.a)(t,2),s=c[0],l=c[1],i=Object(n.useState)(!1),o=Object(N.a)(i,2),u=o[0],m=o[1],p=Object(n.useState)({type:"single"}),d=Object(N.a)(p,2),f=d[0],E=d[1],b=Object(n.useState)(!0),_=Object(N.a)(b,2),v=_[0],g=_[1],h=Object(j.f)(),y=Object(n.useState)(["Type","Name","Genre","Upload files","Upload Cover","Final"]),O=Object(N.a)(y,2),S=O[0],k=O[1],w=Object(n.useState)([qe,Ye,Ze,Je,ze,Ke]),A=Object(N.a)(w,2),L=A[0],P=A[1],T=Object(n.useState)(0),D=Object(N.a)(T,2),R=D[0],H=D[1],I=L[R],F=function(e){m(!0),H("next"==e?R+1:R-1)},G=function(){var e=Object(x.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(C.a.mark((function e(){var t,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in l(!0),t=new FormData,n=function(e){"album"===e&&f[e].forEach((function(a,n){t.append("track",f[e][n])})),"genre"===e?f[e].forEach((function(a,n){t.append("genre",f[e][n])})):t.append(e,f[e])},f)n(r);if("single"!=f.type){e.next=9;break}return e.next=7,a(J(t));case 7:e.next=11;break;case 9:return e.next=11,a(je(t));case 11:l(!1),a(M({name:"Profile",path:"/profile"})),h.push("/profile");case 14:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),a(V({type:"error",text:e.t1.message}));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m(!0),setTimeout((function(){return m(!1)}),2e3)}),[R]),s?r.a.createElement(Ce,null):r.a.createElement(Xe.Provider,{value:{setLoad:l,setForm:E,form:f,setBtnDisabled:g,setSteps:P,steps:L,scrollSteps:S,setScrollSteps:k}},!u&&r.a.createElement("div",{className:"music__main-upload ".concat(u?"hidden":"")},r.a.createElement("div",{className:"music__main-upload-container"},r.a.createElement("h2",{className:"subtitle"},"Step ",R+1),r.a.createElement(I,null),r.a.createElement("div",{className:"music__main-upload-container-btns"},R>0&&r.a.createElement(he,{text:"Back",type:"button",onClick:function(){return F("prev")}}),R+1!==L.length&&r.a.createElement(he,{text:"Next",type:"button",onClick:function(){return F("next")},disabled:v}),R==L.length-1&&r.a.createElement(he,{className:"music__main-upload-container-final-btn",onClick:G,type:"button",text:"Upload",active:s}))),r.a.createElement("div",{className:"music__main-upload-scroll "},S.map((function(e,a){return r.a.createElement("div",{key:e,className:"music__main-upload-scroll-wrap"},r.a.createElement("div",{className:"music__main-upload-scroll-wrap-circle ".concat(a<=R&&"active"),onClick:function(){return a<=R&&H(a)}}),r.a.createElement("span",null,e),a+1!==S.length&&r.a.createElement("div",{className:"music__main-upload-scroll-wrap-line"}))})))))})),$e=t(27),ea=t.n($e),aa=Object(u.b)((function(e){return{profile:e.profile,mySongs:e.profile.songs,myAlbums:e.profile.albums,savedSongs:e.profile.saved_songs,start:e.onPlay.start,song:e.onPlay.song,night:e.interface.night,loading:e.interface.loading}}))((function(e){var a=e.dispatch,t=e.profile,c=e.mySongs,s=e.myAlbums,i=e.night,o=e.loading,u={artists:[{name:"\u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",link:"#"},{name:"Alex Kos",link:"601d8286665abe1cf86c40f6"},{name:"Grandson",link:"#"}],genres:[{name:"EDM",link:"#"},{name:"Lo-Fi",link:"#"},{name:"Post Punk",link:"#"}]},m=Object(n.useRef)(null);return Object(n.useEffect)((function(){t.avatar.length||m.current.setAttribute("data-nick",t.avatarNick)}),[t.name]),o&&t?r.a.createElement(Ce,null):r.a.createElement("div",{className:"music__main-profile ".concat(i?"":"night")},r.a.createElement("div",{className:"music__main-profile-header"},r.a.createElement("div",{className:"music__main-profile-header-wrap"},r.a.createElement(Ge,{classNames:"center dark"}),r.a.createElement(l.b,{to:"/change-avatar"},r.a.createElement("div",{className:"music__main-profile-header-wrap-avatar",ref:m},r.a.createElement("img",{src:A+t.avatar||ea.a,alt:""}),r.a.createElement("div",{className:"music__main-profile-header-wrap-avatar-change",onClick:function(){return a(M("change-avatar"))}},r.a.createElement("span",null,"Change")))),r.a.createElement("div",{className:"music__main-profile-header-wrap-nick"},r.a.createElement("div",{className:"music__main-profile-header-wrap-nick-name"},r.a.createElement("h1",null,t.name),r.a.createElement("span",{onClick:function(){return a(function(){var e=Object(x.a)(C.a.mark((function e(a,t){var n,r,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().profile.name,e.next=3,a(B({type:"input",value:n,onSubmit:function(e){n!==e&&(n=e)}}));case 3:if(n){e.next=6;break}return a({type:h,payload:{type:"warning",text:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 !"}}),e.abrupt("return");case 6:return e.prev=6,e.next=9,F.post("/api/changes/name",{name:n});case 9:r=e.sent,(c=r.data)&&(s=c.name.split(" ").reduce((function(e,a){return e[0]+a[0]})),a({type:"CHANGE_PROFILE_NAME",payload:{name:c.name,avatarNick:s}}),a({type:h,payload:{type:"success",text:"\u0418\u043c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e"}})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(a,t){return e.apply(this,arguments)}}())}},r.a.createElement("i",{className:"fas fa-pencil-alt"}))),r.a.createElement("div",{className:"music__main-profile-header-wrap-nick-info"},t.email&&r.a.createElement("span",null,"@",t.email),r.a.createElement("p",null,"listener")))),u&&r.a.createElement("div",{className:"music__main-profile-header-frequents"},r.a.createElement("div",{className:"music__main-profile-header-frequents-frequent"},r.a.createElement("span",null,"Frequent artists:"),u.artists.map((function(e,a){return r.a.createElement(l.b,{className:"music__main-profile-header-frequents-frequent-item",to:"/artist/".concat(e.link),key:a},e.name)}))),r.a.createElement("div",{className:"music__main-profile-header-frequents-frequent"},r.a.createElement("span",null,"Frequent genres:"),u.genres.map((function(e,a){return r.a.createElement(l.b,{className:"music__main-profile-header-frequents-frequent-item",to:"/genre/".concat(e.link),key:a},e.name)}))),r.a.createElement("div",{className:"music__main-profile-header-frequents-frequent-desc"},r.a.createElement("span",{className:"music__main-profile-header-frequents-frequent-desc-title"},"Description:"),r.a.createElement("span",{className:"music__main-profile-header-frequents-frequent-desc-text"},t.description),r.a.createElement("span",{className:"music__main-profile-header-frequents-frequent-desc-icon"},r.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a(function(){var e=Object(x.a)(C.a.mark((function e(a){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Paste the new description")){e.next=3;break}return e.abrupt("return",alert("\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 !!!"));case 3:return e.prev=3,e.next=6,F.post("/api/changes/description",{description:t});case 6:(n=e.sent)?(a({type:"CHANGE_PROFILE_DESCRIPTION",payload:n.data}),a({type:h,payload:{type:"success",text:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e"}})):a({type:h,payload:{type:"error",text:"\u041e\u0448\u0438\u0431\u043a\u0430 !"}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a){return e.apply(this,arguments)}}())}}))))),r.a.createElement("div",{className:"music__main-profile-settings"},r.a.createElement("h2",{className:"subtitle"},"Settings"),r.a.createElement("ul",{className:"music__main-profile-settings-list"},r.a.createElement("li",{className:"music__main-profile-settings-list-item"},r.a.createElement("span",null,"Language:"),r.a.createElement("div",{className:"music__main-profile-settings-list-item-select"},r.a.createElement(he,{type:"select",list:["English","Russian","Germany"]}))),r.a.createElement("li",{className:"music__main-profile-settings-list-item"},r.a.createElement("span",null,"Quality of audio:"),r.a.createElement("div",{className:"music__main-profile-settings-list-item-select"},r.a.createElement(he,{type:"select",list:["High","Middle"]}))),r.a.createElement("li",{className:"music__main-profile-settings-list-item"},r.a.createElement("span",null,"Files on device:"),r.a.createElement(he,{type:"button",text:"C:/Users/Alex/AppData/Roaming/maze-music/data",class:"active mr"})),r.a.createElement("li",{className:"music__main-profile-settings-list-item"},r.a.createElement("span",null,"Notifications:"),r.a.createElement("div",{className:"music__main-profile-settings-list-item-checkbox"},r.a.createElement(he,{type:"checkbox"}))),r.a.createElement("li",{className:"music__main-profile-settings-list-item"},r.a.createElement(l.b,{to:"/auth",onClick:Object(x.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(function(){var e=Object(x.a)(C.a.mark((function e(a,t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("userData");case 2:n=t().profile.name,a({type:"LOG_OUT"}),a({type:h,payload:{type:"success",text:"\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 ".concat(n)}});case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))},r.a.createElement("span",null,"Logout"))))),r.a.createElement("div",{className:"music__main-profile-songs"},r.a.createElement("h2",{className:"subtitle"},"Songs"),(null===c||void 0===c?void 0:c.length)>0?r.a.createElement(Se,{songs:c,my:!0,type:"Songs"}):r.a.createElement("span",{className:"music__main-empty-text"},"You have no songs")),r.a.createElement("div",{className:"music__main-profile-albums"},r.a.createElement("h2",{className:"subtitle"},"Albums"),(null===s||void 0===s?void 0:s.length)>0?r.a.createElement(Fe,{items:s,to:"Albums",my:!0}):r.a.createElement("span",{className:"music__main-empty-text"},"You have no albums")))})),ta=Object(u.b)((function(e){return{profile:e.profile}}))((function(e){e.dispatch,e.profile;return r.a.createElement("div",{className:"music__main-settings"})})),na=Object(u.b)((function(e){return{artists:e.artists.recomendArtists,night:e.interface.night}}))((function(e){var a=e.artists;e.night;return r.a.createElement("div",{className:"music__main-search"},r.a.createElement("div",{className:"music__main-search-container"},r.a.createElement("h2",{className:"subtitle"},"Search"),r.a.createElement("div",{className:"music__main-search-container-input"},r.a.createElement("i",{className:"fas fa-search",onClick:function(e){e.target.nextSibling&&e.target.nextSibling.focus()}}),r.a.createElement("input",{type:"text",placeholder:"Type some track, artist, album or playlist"})),r.a.createElement("div",{className:"music__main-search-container-recent"},r.a.createElement("h2",{className:"subtitle"},"Recent listened"),r.a.createElement(Fe,{items:a,to:"Artists"}))))})),ra=Object(u.b)((function(e){return{profile:e.profile}}))((function(e){var a=e.dispatch,t=Object(n.useState)(null),c=Object(N.a)(t,2),s=c[0],l=c[1],i=Object(j.f)();return r.a.createElement("div",{className:"music__main-profile-change-avatar"},r.a.createElement(We,{description:"File should be a jpeg/png",type:"image/jpeg, image/png",field:"cover",file:s,setFile:l}),r.a.createElement("div",{onClick:function(){return a(function(e,a){return function(){var t=Object(x.a)(C.a.mark((function t(n){var r,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=5;break}return n(V({type:"error",text:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 !"})),t.abrupt("return");case 5:return t.prev=5,n(q(!0)),(r=new FormData).append("avatar",e),t.next=11,F.post("/api/upload/avatar",r);case 11:c=t.sent,(s=c.data).isSuccess?(n({type:"CHANGE_PROFILE_AVATAR",payload:s.avatar}),n(V({type:"success",text:s.message})),a.push("/profile")):n(V({type:"error",text:s.message})),n(q(!1)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}()}(s,i))},className:"music__main-profile-change-avatar-btn"},r.a.createElement(he,{text:"Upload",type:"button",active:null===s||void 0===s?void 0:s.length})))})),ca=Object(u.b)((function(e){return{header:e.interface.header,night:e.interface.night,path:e.interface.path,profile:e.profile,collapsed:e.interface.sidebarCollapsed}}))((function(e){var a=e.dispatch,t=e.profile,c=e.night,s=e.path,i=e.isFilled,o=e.toStartPage,u=e.collapsed,m=Object(n.useRef)(null);return Object(n.useEffect)((function(){m&&t.name&&m.current.setAttribute("data-nick",t.avatarNick)}),[t.name]),r.a.createElement("div",{className:"music__main-header ".concat(i?"filled":""," ").concat(u?"collapsed":"")},r.a.createElement("span",{className:"music__main-header-dir",onClick:o},s.name),r.a.createElement("div",{className:"music__main-header-head"},r.a.createElement("ul",{className:"music__main-header-head-navbar".concat(c?" dark":"")},r.a.createElement("li",{onClick:function(){return a(V({type:"warning",text:"\u0412\u044b \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 !"}))}},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-sliders-h"}))),r.a.createElement("li",{onClick:function(){return a({type:"SET_NIGHT"})}},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-".concat(c?"moon":"sun")}))),r.a.createElement("li",{onClick:function(){return a(V({type:"success",text:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b"}))}},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-bell"})))),r.a.createElement(l.b,{to:"/profile",onClick:function(){return a(M({name:"Profile",path:"/profile"}))}},r.a.createElement("div",{className:"music__main-header-head-avatar",ref:m},r.a.createElement("img",{src:A+t.avatar||ea.a,alt:""}))),r.a.createElement("h3",null,t.name)))})),sa=function(e){var a=e.items,t=Object(u.c)(),c=Object(u.d)().getState().interface.alert;return Object(n.useEffect)((function(){var e;if(null===c||void 0===c?void 0:c.length)return e=setTimeout((function(){t(U(c.length-1))}),2e3),function(){return clearTimeout(e)}}),[c]),r.a.createElement("div",{className:"music__main-alerts"},a.map((function(e,a){return r.a.createElement("div",{className:"music__main-alert ".concat(e.type),key:a},r.a.createElement("span",null,e.text),r.a.createElement("i",{onClick:function(){return t(U(a))},className:"fas fa-times"}))})))},la=Object(u.b)((function(e){return e}))((function(e){var a=e.dispatch,t=e.type,c=e.placeholder,s=e.value,l=e.onSubmit,i=Object(n.useState)(s||""),o=Object(N.a)(i,2),u=o[0],m=o[1],p=Object(n.useRef)();return r.a.createElement("div",{className:"music__main-modal ".concat("hidden"==t?"hidden":"")},r.a.createElement("div",{className:"music__main-modal-bcg",onClick:function(){return("input"!==t||p.current!==document.activeElement)&&a({type:"HIDE_MODAL"})}}),r.a.createElement("div",{className:"music__main-modal-view"},"input"==t?r.a.createElement("input",{type:"text",name:"name",required:!0,ref:p,className:"music__main-modal-view-input-text",onChange:function(e){return m(e.target.value)},placeholder:null!==c&&void 0!==c?c:s,value:u}):"confirm"==t?r.a.createElement("input",null):null,r.a.createElement("div",{className:"music__main-modal-view-btns"},r.a.createElement(he,{text:"Cancel",onClick:function(){return a({type:"HIDE_MODAL"})}}),r.a.createElement(he,{className:"green",text:"Submit",onClick:function(){return l(u),void a({type:"HIDE_MODAL"})}}))))})),ia=Object(u.b)((function(e){return{night:e.interface.night}}))((function(e){var a=e.night;return r.a.createElement("div",{className:"music__main-bg ".concat(a?"":"night")})})),oa=Object(u.b)((function(e){return{start:e.onPlay.start,song:e.songs.song,defaultPath:e.interface.defaultPath,profileName:e.profile.name,alert:e.interface.alert,modal:e.interface.modal,pathName:e.interface.path.name}}))((function(e){var a=e.onSavePlaylist,t=e.defaultPath,c=e.alert,s=e.pathName,l=e.profileName,i=e.modal,o=L(),u=Object(n.useRef)(null),m=Object(n.useState)(!1),p=Object(N.a)(m,2),d=p[0],f=p[1],E=function(e){e.target.scrollTop>=40?f(!0):f(!1)};return Object(n.useEffect)((function(){u.current.addEventListener("scroll",E)}),[d]),r.a.createElement("div",{className:"music__main",ref:u},r.a.createElement(ye,null),r.a.createElement(ca,{isFilled:d,toStartPage:function(){u.current.scroll({top:0,left:0,behavior:"smooth"})}}),l?r.a.createElement("div",{className:"music__main-wrap"},("Search"===s||"Upload"===s)&&r.a.createElement(ia,null),r.a.createElement(j.b,{path:"/playlists",exact:!0,component:Ve}),r.a.createElement(j.b,{path:"/for-you",exact:!0},r.a.createElement(Me,{onSavePlaylist:a})),r.a.createElement(j.b,{path:"/"},o?r.a.createElement(j.a,{to:t.src}):r.a.createElement(j.a,{to:"/auth/login"})),r.a.createElement(j.b,{path:"/change-avatar",exact:!0,component:ra}),r.a.createElement(j.b,{path:"/artist/:id",exact:!0,component:Ue}),r.a.createElement(j.b,{path:"/album/:id",component:xe}),r.a.createElement(j.b,{path:"/albums",exact:!0,component:Oe}),r.a.createElement(j.b,{path:"/songs",exact:!0,component:Be}),r.a.createElement(j.b,{path:"/upload",component:Qe}),r.a.createElement(j.b,{path:"/search",exact:!0,component:na}),r.a.createElement(j.b,{path:"/profile",exact:!0,component:aa}),r.a.createElement(j.b,{path:"/settings",component:ta}),c.length?r.a.createElement(sa,{items:c}):null,r.a.createElement(la,i)):r.a.createElement(Ce,null))})),ua=Object(u.b)((function(e){return{start:e.onPlay.start,song:e.onPlay.song,recomendSongs:e.songs.recomendSongs,savedSongs:e.profile.saved_songs,currentPlaylist:e.onPlay.currentPlaylist,currentDuration:e.onPlay.currentDuration,full:e.interface.fullPlayer}}))((function(e){var a=e.dispatch,t=e.start,c=e.full,s=e.song,l=e.currentDuration,i=e.savedSongs,o=e.currentPlaylist,u=e.fullScreen,m=Object(n.useState)(40),p=Object(N.a)(m,2),d=p[0],f=p[1],E=Object(n.useState)(0),b=Object(N.a)(E,2),_=b[0],v=b[1];Object(n.useEffect)((function(){v(0),(null===s||void 0===s?void 0:s.src)&&(be||(be=new Audio),be.src=A+s.src,be.volume=d/100,be.onloadedmetadata=function(){be.ontimeupdate=function(e){v(100*be.currentTime/be.duration),a(K(be.currentTime))},be.onended=function(){v(0),h()}},h())}),[s.src]);var g=function(){(null===s||void 0===s?void 0:s.src)&&be&&a(function(e){return{type:"SET_START",payload:e}}())},h=function(){return t?be.play():be.pause()};Object(n.useEffect)((function(){be&&h()}),[t]);var y=function(e){"Space"===e.code&&!e.repeat&&be&&"INPUT"!==document.activeElement.tagName&&g()};Object(n.useEffect)((function(){return window.addEventListener("keydown",y),function(){return window.removeEventListener("keydown",y)}}),[]);Object(n.useEffect)((function(){be&&(be.volume=d/100)}),[d]);var O=function(){var e=Object(x.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ae(t));case 2:return e.next=4,o.find((function(e){return e._id==t._id}));case 4:if(!e.sent){e.next=11;break}if(o===i){e.next=11;break}return e.next=9,o.map((function(e){return e._id==t._id&&(e.saved=!t.saved),e}));case 9:n=e.sent,a(X(n));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"music__player"},r.a.createElement("div",{className:"music__player-controls"},r.a.createElement("i",{className:"fas fa-backward play-prev",id:"play_prev",onClick:function(){return console.log(s)}}),r.a.createElement("i",{className:"fas fa-".concat(t?"pause":"play","-circle play_btn"),onClick:function(){return g()}}),r.a.createElement("i",{className:"fas fa-forward play-prev",id:"play_next",onClick:function(){return console.log(s)}})),r.a.createElement("div",{className:"music__player-song-desk"},r.a.createElement("span",{className:"music__player-song-desk-name"},s&&s.name),r.a.createElement("span",{className:"music__player-song-desk-artist"},s&&s.artist_name)),r.a.createElement("span",{className:"music__player-toFull"},r.a.createElement("i",{className:"fas fa-chevron-".concat(c?"down":"up"),onClick:function(){s&&s.hasOwnProperty("src")&&a(G(!c))}})),r.a.createElement("div",{className:"music__player-timeline"},r.a.createElement("span",{id:"music-time_now"},l),r.a.createElement("input",{type:"range",name:"progressBar",preload:"metadata",id:"music-range",disabled:!s,value:_||0,onChange:function(e){if(s.src){var t=e.target.value*be.duration/100;a(K(t)),v(e.target.value),be.currentTime=t}}}),r.a.createElement("span",{id:"music-time_total"},s&&s.duration)),r.a.createElement("div",{className:"music__player-bar"},r.a.createElement("span",{className:"music__player-volume"},r.a.createElement("i",{className:"fas fa-volume-".concat(d>0?"up":"off"),onClick:function(){return f(0===d?50:0)}}),r.a.createElement("input",{type:"range",value:d,className:"music__player-volume-range",onWheel:function(e){e.deltaY>0?f((function(e){return e+5>100?e:e+5})):f((function(e){return e-5<0?e:e-5}))},onChange:function(e){return f(e.target.value)}})),r.a.createElement("span",{onClick:function(){return O(s)}},r.a.createElement("i",{className:"fa".concat((null===s||void 0===s?void 0:s.saved)?"s":"r"," fa-heart")})),r.a.createElement("span",{className:"music__player-full"},r.a.createElement("i",{className:"fas fa-".concat(u?"compress":"expand")})),r.a.createElement("span",{onClick:function(){v(0),be.currentTime=0,t&&be.play()}},r.a.createElement("i",{className:"fas fa-redo-alt"}))))})),ma=t(23),pa=Object(u.b)((function(e){return{authType:e.interface.authType,defaultPath:e.interface.defaultPath,alert:e.interface.alert,loading:e.interface.loading,auth:e.profile.auth}}))((function(e){var a=e.dispatch,t=e.authType,c=e.auth,s=e.defaultPath,i=e.alert,o=e.loading,u=Object(n.useState)({name:"",email:"",password:""}),p=Object(N.a)(u,2),d=p[0],f=p[1],E=Object(j.f)(),b=Object(n.useRef)("input_teg"),_=Object(n.useState)(!1),v=Object(N.a)(_,2),g=v[0],h=v[1],y=Object(n.useState)(!1),O=Object(N.a)(y,1)[0],S=function(e){f(Object(m.a)(Object(m.a)({},d),{},Object(ma.a)({},e.target.name,e.target.value)))},k=""!==d.email&&""!==d.password,w=function(){var e=Object(x.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(ne(d));case 3:e.sent.isSuccess&&E.push("/auth/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(V({type:"error",text:e.t0.message}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(te(d));case 3:(null===c||void 0===c?void 0:c.isSuccess)?E.push(s.src):P(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(x.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(re(d.email));case 3:e.sent.isSuccess&&a({type:"CHANGE_AUTH",payload:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(V({type:"error",text:e.t0.message}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){return h(!1),setTimeout((function(){h(!0)}),2200)};return Object(n.useEffect)((function(){P()}),[]),o?r.a.createElement(Ce,null):r.a.createElement("div",{className:"music__auth"},r.a.createElement("div",{className:"music__auth-logo"},r.a.createElement(pe,null)),r.a.createElement("div",{className:"music__auth_bg"}),g&&r.a.createElement("div",{className:"music__auth-box"},r.a.createElement(j.b,{path:"/auth/login"},r.a.createElement("h1",null,"Login"),O?r.a.createElement(he,{type:"message",text:O}):r.a.createElement("div",{className:"music-form"},r.a.createElement("input",{type:"text",placeholder:"example@gmail.com",id:"email",name:"email",onChange:S}),r.a.createElement("input",{type:"password",placeholder:"11111111",id:"password",name:"password",onChange:S}),r.a.createElement("div",{className:"music-form-btns"},r.a.createElement(he,{onClick:A,disabled:!k,type:"button",text:"Login"}),r.a.createElement(l.b,{to:"/auth/register",id:"btn_nonreg"},"Register")))),r.a.createElement(j.b,{path:"/auth/register"},r.a.createElement("h1",null,"Register"),r.a.createElement("div",{className:"music-form"},r.a.createElement("input",{type:"text",placeholder:"Your_Name",id:"name",name:"name",onChange:S}),r.a.createElement("input",{type:"text",placeholder:"example@gmail.com",id:"email",name:"email",onChange:S}),r.a.createElement("input",{type:"password",placeholder:"11111111",id:"password",name:"password",onChange:S}),r.a.createElement("div",{className:"music-form-btns"},r.a.createElement(he,{onClick:w,disabled:!k,type:"button",text:"Register"}),r.a.createElement(l.b,{to:"/auth/login",id:"btn_nonreg"},"Login")))),r.a.createElement(j.b,{path:"/auth/recovery"},r.a.createElement("h1",null,"Recovery password"),t?r.a.createElement("div",{className:"music__auth-box"},r.a.createElement("input",{type:"text",placeholder:"password",id:"password",name:"password",onChange:S}),r.a.createElement("div",{className:"music-form-btns"},r.a.createElement("button",{onClick:L,disabled:o},"Send"))):r.a.createElement("div",{className:"music-form"},r.a.createElement("input",{type:"text",placeholder:"example@gmail.com",id:"email",name:"email",ref:b,onChange:S}),r.a.createElement("div",{className:"music-form-btns"},r.a.createElement("button",{onClick:L,disabled:o},"Send")))),r.a.createElement(l.b,{to:"/auth/recovery"},r.a.createElement("span",{className:"music-form-forgot"},"Forgot password ?"))),i.length?r.a.createElement(sa,{items:i}):null)}));var da=Object(u.b)((function(e){return{profile:e.profile,song:e.onPlay.song,night:e.interface.night,defaultPath:e.interface.defaultPath}}))((function(e){var a=e.dispatch,t=(e.song,e.night),c=e.profile,s=e.defaultPath,l=Object(n.useState)(!1),i=Object(N.a)(l,2),o=i[0],u=i[1],m=L();return Object(n.useEffect)((function(){m&&!c.name&&a($())}),[m,c,a]),r.a.createElement(r.a.Fragment,null,m?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{to:s.src}),r.a.createElement("div",{className:t?"music":"music-night"},r.a.createElement(ge,null),r.a.createElement(oa,null),r.a.createElement(ua,{setFullScreen:u,fullScreen:o}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{to:"/auth/login"}),r.a.createElement(j.b,{path:"/auth"},r.a.createElement(pa,null))))})),fa=Object(i.d)(O,Object(i.c)(Object(i.a)(o.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Ea=a.default=fa;s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(u.a,{store:fa},r.a.createElement(da,null)))),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.2694a773.chunk.js.map