{"version":3,"sources":["assets/img/Avatar.svg","assets/img/arrow_left.svg","assets/img/arrow_right.svg","assets/img/download_icon.svg","redux/reducers/songsReducer.js","redux/reducers/albumsReducer.js","redux/reducers/profileReducer.js","redux/reducers/artistsReducer.js","redux/reducers/playReducer.js","redux/types/interfaceTypes.js","redux/reducers/interfaceReducer.js","redux/rootReducer.js","redux/types/playTypes.js","redux/types/songsTypes.js","redux/types/artistsTypes.js","redux/types/profileTypes.js","redux/types/albumsTypes.js","config/constants.js","core/axios.js","assets/img/Logo.svg","redux/actions/interfaceActions.js","redux/actions/songsActions.js","redux/actions/playActions.js","redux/actions/profileActions.js","assets/img/Logo_tablet.svg","components/Player/index.jsx","components/Sidebar/index.jsx","components/Button/index.jsx","components/FullPlayer/index.jsx","pages/Albums/index.jsx","redux/actions/albumsActions.js","components/SongsTemp/index.jsx","components/Preloader/index.jsx","pages/Album/index.jsx","redux/actions/artistsActions.js","components/CardsTemp/index.jsx","pages/For/index.jsx","components/PrevPage/index.jsx","pages/Artist/index.jsx","pages/Playlists/index.jsx","pages/Songs/index.jsx","pages/Upload/steps/ChooseLength.jsx","pages/Upload/steps/ChooseName.jsx","pages/Upload/steps/ChooseGenre.jsx","components/DragAndDrop/index.jsx","pages/Upload/steps/ChooseTrackFile.jsx","pages/Upload/steps/ChooseCoverFile.jsx","pages/Upload/steps/FinalStep.jsx","pages/Upload/index.jsx","pages/Profile/index.jsx","pages/Settings/index.jsx","pages/Search/index.jsx","pages/Profile/ChangeAvatar.jsx","components/Header/index.jsx","components/Alert/index.jsx","components/Modal/index.jsx","components/MainBcg.jsx","pages/index.jsx","pages/Auth/index.jsx","App.js","index.js"],"names":["module","exports","initialState","recomendSongs","myAlbums","currentAlbum","recomendArtists","save","artist","timeTemplate","s","start","song","storageSong","localStorage","getItem","JSON","parse","checkLocalStorage","songFrom","currentDuration","currentPlaylist","itemDuration","switchSong","to","list","map","item","index","_id","SHOW_ALERT","fullPlayer","night","header","sidebarCollapsed","window","innerWidth","path","name","defaultPath","src","loading","authType","alert","modal","type","rootReducer","combineReducers","onPlay","state","action","setItem","stringify","payload","songs","artists","profile","albums","saved_songs","isSaved","filter","el","saved","description","description_large","avatarNick","avatar","auth","interface","require","config","apiUrl","process","userToken","LAST_FM_KEY","instance","Axios","create","baseURL","headers","Authorization","withCredentials","AcccessCrossOrigin","interceptors","request","use","_path","_path2","_rect","_path3","_path4","changeDir","newDir","setFullPlayer","hideAlert","dispatch","getState","_","i","showAlert","a","showModal","checkSavedSongs","savedSongs","length","some","elem","setRecomendSongs","newSongs","store","axios","get","data","console","log","uploadSong","form","post","isSuccess","text","message","track","setDuration","dur","setCurrentPlaylist","playlist","getNickByAvatar","split","reduce","acc","setProfile","setSavedSongs","saveSong","put","login","token","register","recoveryPass","email","pass","_excluded","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","props","createElement","width","height","viewBox","fill","ref","d","x","y","rx","transform","fillRule","clipRule","ForwardRef","forwardRef","audio","connect","collapsed","className","alt","id","onClick","icon","Button","disabled","color","active","useState","open","setOpen","current","setCurrent","visible","full","history","useHistory","artist_id","artist_name","album_name","album_id","genre","push","subClass","cover","lyrics","Albums","setNowAlbum","newAlbum","album","albumSongs","uploadAlbum","my","setAlbum","editSong","setSongs","useEffect","onSaveSong","scrollamount","confirm","delete","newAlbums","ind","duration","Preloader","useParams","getArtist","substr","items","SlickArrowLeft","currentSlide","slideCount","aria-hidden","aria-disabled","leftIcon","SlickArrowRight","rightIcon","settings","dots","infinite","speed","prevArrow","nextArrow","arrows","variableWidth","slidesToShow","slidesToScroll","listenings","toFixed","loaded","PrevPage","classNames","goBack","tags","Playlists","ChooseLength","useContext","MainContext","setBtnDisabled","setForm","setSteps","steps","setScrollSteps","scrollSteps","setActive","handleLength","ChooseName","setName","required","onChange","event","value","placeholder","ChooseGenre","selected","setSelected","genreLimit","includesElem","includes","newSelected","e","checkBtn","file","field","setFile","draged","setDraged","fileRef","useRef","addEventListener","handleDragIn","handleDragOut","handleDrag","handleDrop","removeEventListener","preventDefault","stopPropagation","dataTransfer","files","htmlFor","accept","edited","wasEdited","lastModified","prevName","ext","onSubmit","newName","newFile","File","ChooseCoverFile","FinalStep","createContext","load","setLoad","animateLoading","setAnimateLoading","btnDisabled","ChooseTrackFile","step","setStep","Step","changeStep","dest","uploadHandler","formData","FormData","forEach","append","setTimeout","Provider","mySongs","frequent","genres","avatarRef","setAttribute","image","link","desc","prompt","newDesc","class","removeItem","nextSibling","focus","changeProfileAvatar","isFilled","toStartPage","Alert","useDispatch","alerts","useStore","alertTimeout","clearTimeout","localValue","setLocalValue","textRef","document","activeElement","profileName","pathName","onSavePlaylist","viewWrap","setIsFilled","handleScroll","scrollTop","scroll","top","left","behavior","exact","component","ChangeAvatar","Artist","Album","Songs","Upload","Search","Profile","Settings","fullScreen","stateVolume","setStateVolume","inputDuration","setInputDuration","Audio","volume","onloadedmetadata","ontimeupdate","currentTime","onended","onStartPlay","playSong","setStart","play","pause","spacePressHandle","code","repeat","tagName","find","preload","compute","onWheel","deltaY","prev","password","loadAnimate","setLoadAnimate","error","changeHandler","btnDisable","registerHandler","loginHandler","loadAnimateFunc","recoveryHandler","setFullScreen","Auth","createStore","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a64ddaa3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Avatar.8eb9086a.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_left.d853e62d.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right.4c81d3c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/download_icon.5bae45f2.svg\";","import { \r\n    FETCH_RECOMEND_SONGS\r\n} from '../types/songsTypes';\r\n\r\nlet initialState = {\r\n    recomendSongs: [],\r\n}\r\n\r\nexport const songsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FETCH_RECOMEND_SONGS:\r\n            return { ...state, recomendSongs: action.payload };\r\n\r\n        default: return state;\r\n    }\r\n}","import { SET_NOW_ALBUM} from \"../types/albumsTypes\";\r\n\r\nlet initialState = {\r\n\tmyAlbums: [],\r\n\tcurrentAlbum: {}\r\n}\r\n\r\nexport const albumsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\t\r\n\t\tcase SET_NOW_ALBUM:\r\n\t\t\treturn { ...state, currentAlbum: action.payload }\r\n\t\tdefault: return state;\r\n\t}\r\n}","import { \r\n    SET_PROFILE, \r\n    SET_MY_SONGS, \r\n    SET_SAVED_SONGS, \r\n    FETCH_MY_ALBUMS, \r\n    SAVE_SONG, \r\n    \r\n    CHANGE_PROFILE_DESCRIPTION, \r\n    CHANGE_PROFILE_NAME,\r\n    CHANGE_PROFILE_AVATAR,\r\n\r\n    REGISTER,\r\n    LOG_IN, \r\n    LOG_OUT,\r\n    RECOVERY_PASS \r\n} from '../types/profileTypes'\r\n\r\nimport { DELETE_SONG, UPLOAD_SONG } from \"../types/songsTypes\";\r\nimport { DELETE_ALBUM, UPLOAD_ALBUM } from \"../types/albumsTypes\";\r\n\r\nlet initialState = {\r\n    // _id: null\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_PROFILE:\r\n            return {...state, ...action.payload};\r\n\r\n        case SET_MY_SONGS:\r\n            return {...state, songs: action.payload }\r\n\r\n        case FETCH_MY_ALBUMS:\r\n            return { ...state, albums: action.payload }\r\n\r\n        case SET_SAVED_SONGS:\r\n            return {...state, saved_songs: action.payload}\r\n\r\n        case SAVE_SONG:\r\n            return { ...state, saved_songs: action.isSaved ? state.saved_songs.filter(el => el._id !== action.payload._id) : [...state.saved_songs, {...action.payload, saved: true}] }\r\n        \r\n\r\n        case DELETE_SONG:\r\n            return {...state, songs: state.songs.filter(el => el._id !== action.payload)}\r\n            \r\n        case UPLOAD_SONG: \r\n            return {...state, songs: [...state.songs, action.payload]}\r\n\r\n\r\n\r\n        case DELETE_ALBUM:\r\n            return {...state, albums: state.albums.filter(el => el._id !== action.payload)}\r\n\r\n        case UPLOAD_ALBUM:\r\n            return {...state, albums: [...state.albums, action.payload]}\r\n\r\n\r\n        case CHANGE_PROFILE_DESCRIPTION:\r\n            return { ...state, description: action.payload.description, description_large: action.payload.description_large }\r\n         \r\n        case CHANGE_PROFILE_NAME:\r\n            return { ...state, name: action.payload.name, avatarNick: action.payload.avatarNick }    \r\n\r\n        case CHANGE_PROFILE_AVATAR:\r\n            return {...state, avatar: action.payload}\r\n\r\n        case LOG_IN:\r\n            return { ...state, auth: action.payload }    \r\n\r\n        case LOG_OUT:\r\n            return state = {}  \r\n\r\n        case REGISTER:\r\n            return { ...state, auth: action.payload }   \r\n        \r\n        case RECOVERY_PASS:\r\n            return {...state, auth: action.payload} \r\n        \r\n        default: return state;\r\n    }\r\n}","import { FETCH_RECOMEND_ARTISTS, GET_ARTIST } from '../types/artistsTypes';\r\n\r\nlet initialState = {\r\n    recomendArtists: [],\r\n    save: false,\r\n    artist: {}\r\n}\r\n\r\nexport const artistsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FETCH_RECOMEND_ARTISTS:\r\n            return { ...state, recomendArtists: action.payload };\r\n\r\n        case GET_ARTIST:\r\n            return { ...state, artist: action.payload }\r\n\r\n        default: return state;\r\n    }\r\n}","import { \r\n    PLAY_SONG,\r\n    PLAY_ALBUM,\r\n    NOW_SONG, \r\n    SWITCH_SONG, \r\n    SET_SONG_DURATION, \r\n    ITEM_DURATION, \r\n    SET_START,\r\n    SET_CURRENT_PLAYLIST \r\n} from '../types/playTypes';\r\n\r\n// Template of song time\r\nlet timeTemplate = s => {\r\n    return (s - (s %= 60)) / 60 + (10 < s ? ':' : ':0') + ~~(s);\r\n}\r\n\r\n\r\nconst checkLocalStorage = () => {\r\n    let storageSong = localStorage.getItem('lastSong');\r\n    \r\n    if (!storageSong) {\r\n        return {};\r\n    }\r\n    else {\r\n        return JSON.parse(storageSong);\r\n        // return {};\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    start: false,\r\n    song: checkLocalStorage(),\r\n    songFrom: [],\r\n    currentDuration: '0:00',\r\n    currentPlaylist: [],\r\n    itemDuration: '0:00'\r\n}\r\n\r\nconst switchSong = (to, list) => {\r\n    list.map((item, index) => {\r\n        if (initialState.song._id === item._id) {\r\n            if (to === \"next\") {\r\n                // return item[index + 1]\r\n            }\r\n            else if (to === \"prev\") {\r\n            // return item[index - 1]\r\n            }\r\n            return item;\r\n        }    \r\n    }); \r\n    return list[0];\r\n}\r\n\r\nexport const playReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case PLAY_SONG:\r\n            localStorage.setItem('lastSong', JSON.stringify(action.song));\r\n            \r\n            if (action.song._id === state.song._id) {\r\n                return {...state, start: !state.start}\r\n            }\r\n\r\n            else {            \r\n                return {...state, \r\n                    song: action.song,\r\n                    start: true, \r\n                    songFrom: action.list \r\n                };\r\n        }\r\n\r\n        case PLAY_ALBUM:\r\n            return {...state, currentPlaylist: action.payload.songs}\r\n                 \r\n        case NOW_SONG:\r\n            localStorage.setItem('lastSong', JSON.stringify(action.payload));\r\n            return { ...state, song: action.payload }\r\n        \r\n        case SWITCH_SONG: \r\n            return { ...state, song: switchSong(action.to, action.list) }\r\n            \r\n        case SET_SONG_DURATION:\r\n            return {...state, currentDuration: timeTemplate(action.payload)}\r\n    \r\n        case ITEM_DURATION:\r\n            return {...state, itemDuration: timeTemplate(action.payload)}\r\n            \r\n        case SET_START:\r\n            return { ...state, start: (action.payload) ? action.payload : !state.start }\r\n\r\n        case SET_CURRENT_PLAYLIST:\r\n            return {...state, currentPlaylist: action.payload }\r\n                \r\n        default: return state;\r\n    }\r\n}","export const CHANGE_DIR = 'CHANGE_DIR';\r\nexport const CHANGE_AUTH = 'CHANGE_AUTH';\r\nexport const SET_FULLPLAYER = 'SET_FULLPLAYER';\r\nexport const SET_NIGHT = 'SET_NIGHT';\r\nexport const SET_HEADER = 'SET_HEADER';\r\n\r\nexport const COLLAPSE_SIDEBAR = 'COLLAPSE_SIDEBAR';\r\n\r\nexport const SHOW_ALERT = 'SHOW_ALERT';\r\nexport const HIDE_ALERT = 'HIDE_ALERT';\r\n\r\nexport const SHOW_MODAL = 'SHOW_MODAL';\r\nexport const HIDE_MODAL = 'HIDE_MODAL';\r\n\r\nexport const LOADING = 'LOADING';\r\n\r\n","import { \r\n    SET_FULLPLAYER, \r\n    SET_NIGHT, \r\n    SET_HEADER, \r\n    CHANGE_DIR, \r\n    CHANGE_AUTH, \r\n    COLLAPSE_SIDEBAR,\r\n    SHOW_ALERT, \r\n    HIDE_ALERT,\r\n\r\n    SHOW_MODAL, \r\n    HIDE_MODAL, \r\n    LOADING\r\n} from '../types/interfaceTypes';\r\n\r\nlet initialState = {\r\n    fullPlayer: false,\r\n    night: JSON.parse(localStorage.getItem('userNight')),\r\n    header: false,\r\n    sidebarCollapsed: typeof JSON.parse(localStorage.getItem('collapsedSidebar')) == \"boolean\" ? JSON.parse(localStorage.getItem('collapsedSidebar')) : (window.innerWidth > 992 ? false : true),\r\n    path: {\r\n        name: 'For you',\r\n        path: '/for-you'\r\n    },\r\n    defaultPath: {\r\n        src: '/for-you',\r\n        name: 'For you'\r\n    },\r\n    loading: false,\r\n    authType: false,\r\n    alert: [],\r\n    modal: {\r\n        type: 'hidden'\r\n    }\r\n}\r\n\r\nexport const interfaceReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_FULLPLAYER:\r\n            return {...state, fullPlayer: action.payload}\r\n\r\n        case SET_NIGHT:\r\n            localStorage.setItem('userNight', !state.night);\r\n            return {...state, night: !state.night};\r\n\r\n        case SET_HEADER:\r\n            return {...state, header: action.payload}\r\n\r\n        case CHANGE_DIR:\r\n            return {...state, path: action.payload}\r\n\r\n        case CHANGE_AUTH:\r\n            return {...state, auth: action.payload};\r\n\r\n        case COLLAPSE_SIDEBAR:\r\n            localStorage.setItem('collapsedSidebar', JSON.stringify(action.payload));\r\n            return {...state, sidebarCollapsed: action.payload}\r\n\r\n        case SHOW_ALERT:\r\n            return { ...state, alert: [...state.alert, action.payload] }\r\n            \r\n        case HIDE_ALERT:\r\n            return { ...state, alert: action.payload }\r\n        \r\n        case SHOW_MODAL:\r\n            return { ...state, modal: action.payload }\r\n        \r\n        case HIDE_MODAL:\r\n            return { ...state, modal: {type: 'hidden'} }\r\n\r\n        case LOADING:\r\n            return { ...state, loading: action.payload }\r\n        \r\n        default: return state;\r\n    }\r\n}","import { combineReducers} from 'redux';\r\n\r\nimport { songsReducer } from \"./reducers/songsReducer\";\r\nimport { albumsReducer } from \"./reducers/albumsReducer\";\r\nimport { profileReducer } from \"./reducers/profileReducer\";\r\nimport { artistsReducer } from \"./reducers/artistsReducer\";\r\nimport { playReducer } from \"./reducers/playReducer\";\r\nimport { interfaceReducer } from \"./reducers/interfaceReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    onPlay: playReducer,\r\n    songs: songsReducer,\r\n    artists: artistsReducer,\r\n    profile: profileReducer,\r\n    interface: interfaceReducer,\r\n    albums: albumsReducer\r\n})\r\n","export const PLAY_SONG = 'PLAY_SONG';\r\nexport const PLAY_ALBUM = 'PLAY_ALBUM';\r\nexport const NOW_SONG = 'NOW_SONG';\r\n\r\nexport const SET_CURRENT_PLAYLIST = 'SET_CURRENT_PLAYLIST';\r\n\r\nexport const ITEM_DURATION = 'ITEM_DURATION';\r\nexport const SET_SONG_DURATION = 'SET_SONG_DURATION';\r\nexport const SET_START = 'SET_START';\r\nexport const SWITCH_SONG = 'SWITCH_SONG';","export const FETCH_RECOMEND_SONGS = 'FETCH_RECOMEND_SONGS';\nexport const DELETE_SONG = 'DELETE_SONG';\nexport const UPLOAD_SONG = 'UPLOAD_SONG';","export const FETCH_RECOMEND_ARTISTS = 'FETCH_RECOMEND_ARTISTS';\nexport const GET_ARTIST = 'GET_ARTIST';\n","export const SET_PROFILE = 'GET_PROFILE';\r\nexport const FETCH_MY_ALBUMS = 'FETCH_MY_ALBUMS';\r\n\r\nexport const SET_MY_SONGS = 'SET_MY_SONGS';\r\nexport const SET_SAVED_SONGS = 'SET_SAVED_SONGS';\r\nexport const SAVE_SONG = 'SAVE_SONG';\r\n\r\nexport const CHANGE_PROFILE_DESCRIPTION = 'CHANGE_PROFILE_DESCRIPTION';\r\nexport const CHANGE_PROFILE_NAME = 'CHANGE_PROFILE_NAME';\r\nexport const CHANGE_PROFILE_AVATAR = 'CHANGE_PROFILE_AVATAR';\r\n\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const LOG_OUT = 'LOG_OUT';\r\nexport const REGISTER = 'REGISTER';\r\nexport const RECOVERY_PASS = 'RECOVERY_PASS';\r\n\r\n","export const SET_NOW_ALBUM = 'SET_NOW_ALBUM';\nexport const DELETE_ALBUM = 'DELETE_ALBUM';\nexport const UPLOAD_ALBUM = 'UPLOAD_ALBUM';","require('dotenv').config()\r\n\r\nexport const apiUrl = process.env.REACT_APP_API_URL_LOCAL;\r\n\r\nexport const lastFmKey = process.env.LAST_FM_KEY;\r\n\r\nexport let userToken = () => JSON.parse(localStorage.getItem('userData'));\r\n ","import Axios from \"axios\";\r\nimport { apiUrl, userToken } from \"../config/constants\";\r\n\r\nconst instance = Axios.create({\r\n\tbaseURL: apiUrl,\r\n\theaders: {\r\n\t\tAuthorization: `Bearer ${userToken()}`,\r\n\t\twithCredentials: true,\r\n\t\tAcccessCrossOrigin: '*'\r\n\t}\r\n});\r\n\r\ninstance.interceptors.request.use((config) => {\r\n\tif (typeof window !== 'undefined') {\r\n\t\tconfig.headers.Authorization = `Bearer ${userToken()}`\r\n\t}\r\n\treturn config;\r\n})\r\n\r\n\r\n\r\nexport default instance;","var _path, _path2, _rect, _path3, _path4;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 282,\n    height: 56,\n    viewBox: \"0 0 282 56\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M67.36 16.32V44H63.72V23.36L54.52 44H51.96L42.72 23.32V44H39.08V16.32H43L53.24 39.2L63.48 16.32H67.36ZM90.4131 37.8H78.2531L76.0131 44H72.1731L82.2531 16.28H86.4531L96.4931 44H92.6531L90.4131 37.8ZM89.3731 34.84L84.3331 20.76L79.2931 34.84H89.3731ZM104.366 40.84H117.966V44H100.046V41.12L113.566 19.28H100.206V16.12H117.886V19L104.366 40.84ZM126.967 19.08V28.4H137.127V31.4H126.967V41H138.327V44H123.327V16.08H138.327V19.08H126.967ZM145.395 44.24C144.701 44.24 144.115 44 143.635 43.52C143.155 43.04 142.915 42.4533 142.915 41.76C142.915 41.0667 143.155 40.48 143.635 40C144.115 39.52 144.701 39.28 145.395 39.28C146.061 39.28 146.621 39.52 147.075 40C147.555 40.48 147.795 41.0667 147.795 41.76C147.795 42.4533 147.555 43.04 147.075 43.52C146.621 44 146.061 44.24 145.395 44.24Z\",\n    fill: \"#8E8E8E\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M181.313 16.32V44H177.673V23.36L168.473 44H165.913L156.673 23.32V44H153.033V16.32H156.953L167.193 39.2L177.433 16.32H181.313ZM191.446 16.12V33.76C191.446 36.24 192.046 38.08 193.246 39.28C194.473 40.48 196.166 41.08 198.326 41.08C200.46 41.08 202.126 40.48 203.326 39.28C204.553 38.08 205.166 36.24 205.166 33.76V16.12H208.806V33.72C208.806 36.04 208.34 38 207.406 39.6C206.473 41.1733 205.206 42.3467 203.606 43.12C202.033 43.8933 200.26 44.28 198.286 44.28C196.313 44.28 194.526 43.8933 192.926 43.12C191.353 42.3467 190.1 41.1733 189.166 39.6C188.26 38 187.806 36.04 187.806 33.72V16.12H191.446ZM224.118 44.28C222.278 44.28 220.625 43.96 219.158 43.32C217.718 42.6533 216.585 41.7467 215.758 40.6C214.932 39.4267 214.505 38.08 214.478 36.56H218.358C218.492 37.8667 219.025 38.9733 219.958 39.88C220.918 40.76 222.305 41.2 224.118 41.2C225.852 41.2 227.212 40.7733 228.198 39.92C229.212 39.04 229.718 37.92 229.718 36.56C229.718 35.4933 229.425 34.6267 228.838 33.96C228.252 33.2933 227.518 32.7867 226.638 32.44C225.758 32.0933 224.572 31.72 223.078 31.32C221.238 30.84 219.758 30.36 218.638 29.88C217.545 29.4 216.598 28.6533 215.798 27.64C215.025 26.6 214.638 25.2133 214.638 23.48C214.638 21.96 215.025 20.6133 215.798 19.44C216.572 18.2667 217.652 17.36 219.038 16.72C220.452 16.08 222.065 15.76 223.878 15.76C226.492 15.76 228.625 16.4133 230.278 17.72C231.958 19.0267 232.905 20.76 233.118 22.92H229.118C228.985 21.8533 228.425 20.92 227.438 20.12C226.452 19.2933 225.145 18.88 223.518 18.88C221.998 18.88 220.758 19.28 219.798 20.08C218.838 20.8533 218.358 21.9467 218.358 23.36C218.358 24.3733 218.638 25.2 219.198 25.84C219.785 26.48 220.492 26.9733 221.318 27.32C222.172 27.64 223.358 28.0133 224.878 28.44C226.718 28.9467 228.198 29.4533 229.318 29.96C230.438 30.44 231.398 31.2 232.198 32.24C232.998 33.2533 233.398 34.64 233.398 36.4C233.398 37.76 233.038 39.04 232.318 40.24C231.598 41.44 230.532 42.4133 229.118 43.16C227.705 43.9067 226.038 44.28 224.118 44.28ZM242.795 16.12V44H239.155V16.12H242.795ZM248.039 30.04C248.039 27.32 248.652 24.88 249.879 22.72C251.105 20.5333 252.772 18.8267 254.879 17.6C257.012 16.3733 259.372 15.76 261.959 15.76C264.999 15.76 267.652 16.4933 269.919 17.96C272.185 19.4267 273.839 21.5067 274.879 24.2H270.519C269.745 22.52 268.625 21.2267 267.159 20.32C265.719 19.4133 263.985 18.96 261.959 18.96C260.012 18.96 258.265 19.4133 256.719 20.32C255.172 21.2267 253.959 22.52 253.079 24.2C252.199 25.8533 251.759 27.8 251.759 30.04C251.759 32.2533 252.199 34.2 253.079 35.88C253.959 37.5333 255.172 38.8133 256.719 39.72C258.265 40.6267 260.012 41.08 261.959 41.08C263.985 41.08 265.719 40.64 267.159 39.76C268.625 38.8533 269.745 37.56 270.519 35.88H274.879C273.839 38.5467 272.185 40.6133 269.919 42.08C267.652 43.52 264.999 44.24 261.959 44.24C259.372 44.24 257.012 43.64 254.879 42.44C252.772 41.2133 251.105 39.52 249.879 37.36C248.652 35.2 248.039 32.76 248.039 30.04Z\",\n    fill: \"black\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 21.5632,\n    y: 19.5897,\n    width: 3.82906,\n    height: 9.2583,\n    rx: 1.91453,\n    transform: \"rotate(45 21.5632 19.5897)\",\n    fill: \"#00ADB5\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M28 30C28 37.732 21.732 44 14 44C10.8499 44 7.94286 42.9596 5.60364 41.2038L7.75251 39.0549C9.52697 40.2815 11.6796 41 14 41C20.0751 41 25 36.0751 25 30C25 23.9249 20.0751 19 14 19C7.92487 19 3 23.9249 3 30C3 32.3718 3.75067 34.5683 5.0274 36.3649L2.88238 38.5099C1.07444 36.1515 0 33.2012 0 30C0 22.268 6.26801 16 14 16C21.732 16 28 22.268 28 30Z\",\n    fill: \"#00ADB5\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14.0085 39.0171C18.9838 39.0171 23.0171 34.9838 23.0171 30.0085C23.0171 25.0333 18.9838 21 14.0085 21C9.03326 21 5 25.0333 5 30.0085C5 34.9838 9.03326 39.0171 14.0085 39.0171ZM14.0087 36.5532C17.6232 36.5532 20.5534 33.6231 20.5534 30.0086C20.5534 26.394 17.6232 23.4639 14.0087 23.4639C10.3942 23.4639 7.46406 26.394 7.46406 30.0086C7.46406 33.6231 10.3942 36.5532 14.0087 36.5532Z\",\n    fill: \"#00ADB5\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Logo.bd1bc6c6.svg\";\nexport { ForwardRef as ReactComponent };","import { \r\n    SET_FULLPLAYER, \r\n    SET_NIGHT, \r\n    SET_HEADER, \r\n    CHANGE_DIR, \r\n    CHANGE_AUTH,\r\n    COLLAPSE_SIDEBAR, \r\n    SHOW_ALERT, \r\n    HIDE_ALERT, \r\n\r\n    SHOW_MODAL,\r\n    HIDE_MODAL,\r\n    LOADING } from '../types/interfaceTypes';\r\n\r\nexport const changeDir = (newDir) => {\r\n    return {\r\n        type: CHANGE_DIR,\r\n        payload: newDir\r\n    }\r\n}\r\n\r\nexport const changeAuth = (newDir) => {\r\n    return {\r\n        type: CHANGE_AUTH,\r\n        payload: newDir\r\n    }\r\n}\r\n\r\nexport const setFullPlayer = (state) => {\r\n    return {\r\n        type: SET_FULLPLAYER,\r\n        payload: state\r\n    }\r\n}\r\n\r\nexport const setNight = () => {\r\n    return {\r\n        type: SET_NIGHT\r\n    }\r\n}\r\n\r\nexport const setHeader = (state) => {\r\n    return {\r\n        type: SET_HEADER,\r\n        payload: state\r\n    }\r\n}\r\n\r\nexport const collapseSidebar = (payload) => {\r\n    return {\r\n        type: COLLAPSE_SIDEBAR,\r\n        payload\r\n    }\r\n}\r\n\r\nexport const hideAlert = (index) => {\r\n    return (dispatch, getState) => {\r\n        let alerts = getState().interface.alert;\r\n\r\n        return dispatch({\r\n            type: HIDE_ALERT,\r\n            payload: alerts.filter((_, i) => i !== index)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const showAlert = (alert) => {\r\n   return async (dispatch) => {\r\n    \r\n        dispatch({\r\n            type: SHOW_ALERT,\r\n            payload: alert\r\n        })\r\n    }\r\n}\r\n\r\nexport const showModal = (modal) => {\r\n    return {\r\n        type: SHOW_MODAL,\r\n        payload: modal\r\n    }\r\n}\r\n\r\nexport const hideModal = () => {\r\n    return {\r\n        type: HIDE_MODAL\r\n    }\r\n}\r\n\r\nexport const loading = (state) => {\r\n    return {\r\n        type: LOADING,\r\n        payload: state\r\n    }\r\n}","import { \r\n    FETCH_RECOMEND_SONGS, \r\n    DELETE_SONG,\r\n    UPLOAD_SONG\r\n} from '../types/songsTypes';\r\n\r\nimport axios from \"../../core/axios\";\r\n\r\nimport { loading, showAlert } from \"../actions/interfaceActions\";\r\nimport store from \"../../index.js\";\r\n\r\nconst checkSavedSongs = (list, savedSongs) => {\r\n    let newList = list.map(item => {\r\n        if (savedSongs.length > 0) {\r\n            item.saved = savedSongs.some(elem => elem._id === item._id);\r\n        }\r\n        else {\r\n            item.saved = false;\r\n        }\r\n        return item;\r\n    });\r\n    return newList;\r\n}\r\n\r\nexport default checkSavedSongs;\r\n\r\nexport const setRecomendSongs = (newSongs) => {\r\n    if (!newSongs) {\r\n        return async (dispatch, getState) => {\r\n            try {\r\n                const { data } = await axios.get('/api/songs/recomendation');\r\n                \r\n                dispatch({\r\n                    type: FETCH_RECOMEND_SONGS,\r\n                    payload: checkSavedSongs(data, getState().profile.saved_songs)\r\n                });\r\n            }\r\n            catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        return {\r\n            type: FETCH_RECOMEND_SONGS,\r\n            payload: checkSavedSongs(newSongs, store.getState().profile.saved_songs)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteSong = (id) => {\r\n    return async (dispatch) => {\r\n        let qustion = window.confirm(\"Вы точно хотите удалить этот трек ?\");\r\n        \r\n        if (qustion) {\r\n            try {\r\n                dispatch(loading(true));    \r\n                let { data } = await axios.delete(`/api/songs/delete/${id}`);\r\n                \r\n                if (data.isSuccess) {\r\n                    dispatch(showAlert({type: 'success', text: data.message}))\r\n                    \r\n                    dispatch({\r\n                        type: DELETE_SONG,\r\n                        payload: data.song\r\n                    })\r\n                }\r\n                else {\r\n                    showAlert({type: 'error', text: data.message})\r\n                }\r\n                dispatch(loading(false));    \r\n            }\r\n            catch (e) {\r\n                showAlert({type: 'error', text: e.message})   \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const uploadSong = (form) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(loading(true));\r\n\r\n            const { data } = await axios.post('/api/upload/track', form)\r\n            \r\n            if (data.isSuccess) {\r\n                dispatch(showAlert({type: 'success', text: data.message }))\r\n                dispatch({\r\n                    type: UPLOAD_SONG,\r\n                    payload: data.track\r\n                })\r\n            }\r\n            else {\r\n                dispatch(showAlert({type: 'error', text: data.message }))\r\n            }\r\n            dispatch(loading(false));\r\n            return data.isSuccess;\r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}","import { \r\n    PLAY_SONG,\r\n    PLAY_ALBUM,\r\n\r\n    NOW_SONG, \r\n    SWITCH_SONG, \r\n    SET_SONG_DURATION, \r\n    ITEM_DURATION, \r\n    SET_START,\r\n    SET_CURRENT_PLAYLIST \r\n} from '../types/playTypes';\r\n\r\nimport checkSavedSongs from \"./songsActions\";\r\nimport axios from \"../../core/axios\";\r\nimport store from \"../../index.js\";\r\n\r\nexport const onPlay = (item, list) => {\r\n    return {\r\n        type: PLAY_SONG,\r\n        song: item,\r\n        list: checkSavedSongs(list, store.getState().profile.saved_songs)\r\n    }\r\n}\r\n\r\nexport const playAlbum = (album, loaded) => {\r\n    return async (dispatch) => {\r\n\r\n        if (!loaded) {\r\n            const { data } = await axios.get(`/api/albums/album/${album._id}`)\r\n            \r\n            if (data.isSuccess) {\r\n                await dispatch(onPlay(data.album.songs[0], data.album.songs))\r\n            }\r\n        }\r\n        else {\r\n            await dispatch(onPlay(album.songs[0], album.songs))\r\n        }\r\n\r\n        return dispatch({\r\n            type: PLAY_ALBUM,\r\n            payload: album\r\n        })\r\n    }\r\n}\r\n\r\nexport const setStart = (start) => {\r\n    return {\r\n        type: SET_START,\r\n        payload: start\r\n    }\r\n}\r\n\r\nexport const switchSong = (direction, list) => {\r\n    return {\r\n        type: SWITCH_SONG,\r\n        to: direction,\r\n        list: list\r\n    }\r\n}\r\n\r\n// set every second of track\r\nexport const setDuration = (dur) => {\r\n    return {\r\n        type: SET_SONG_DURATION,\r\n        payload: dur\r\n    }\r\n}\r\n\r\n// full duration of track\r\nexport const itemDuration = (dur) => {\r\n    return {\r\n        type: ITEM_DURATION,\r\n        payload: dur\r\n    }\r\n}\r\n\r\nexport const setNowSong = (song) => {\r\n    return {\r\n        type: NOW_SONG,\r\n        payload: song\r\n    }\r\n}\r\n\r\nexport const setCurrentPlaylist = (playlist) => {\r\n    return {\r\n        type: SET_CURRENT_PLAYLIST,\r\n        payload: playlist\r\n    }\r\n}\r\n","import { \r\n    SET_PROFILE, \r\n    SET_MY_SONGS, \r\n    SET_SAVED_SONGS, \r\n    FETCH_MY_ALBUMS, \r\n    SAVE_SONG, \r\n\r\n    CHANGE_PROFILE_DESCRIPTION, \r\n    CHANGE_PROFILE_NAME,\r\n    CHANGE_PROFILE_AVATAR,\r\n    \r\n    LOG_IN,\r\n    LOG_OUT,\r\n    REGISTER,\r\n    RECOVERY_PASS\r\n} from '../types/profileTypes';\r\n\r\nimport { LOADING, SHOW_ALERT } from '../types/interfaceTypes';\r\n\r\nimport axios from \"../../core/axios\";\r\nimport { showAlert, showModal, loading } from './interfaceActions';\r\nimport { setNowSong } from './playActions';\r\nimport checkSavedSongs from \"./songsActions\";\r\n\r\nexport const getNickByAvatar = name => {\r\n    return name.split(\" \").reduce((item, acc) => item[0] + acc[0]);\r\n}\r\n\r\nexport const setProfile = () => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const { data } = await axios.get('/api/users/profile')\r\n            \r\n            if (data.isSuccess) {\r\n                let avatarNick = getNickByAvatar(data.profile.name);\r\n\r\n                await data.profile.saved_songs.map(item => item.saved = true);\r\n\r\n                return dispatch({\r\n                    type: SET_PROFILE,\r\n                    payload: {...data.profile, avatarNick}\r\n                })\r\n            }\r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const changeProfileDescription = (data) => {\r\n    return async (dispatch) => {\r\n        let desc = prompt('Paste the new description');\r\n        \r\n        if (!desc) {\r\n            return alert('Поле пустое !!!');\r\n        }\r\n        \r\n        try {\r\n            const newDesc = await axios.post('/api/changes/description', { description: desc })\r\n            \r\n            if (newDesc) {\r\n                dispatch({\r\n                    type: CHANGE_PROFILE_DESCRIPTION,\r\n                    payload: newDesc.data\r\n                })\r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'success',\r\n                        text: 'Описание изменено'\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n\r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'error',\r\n                        text: 'Ошибка !'\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const changeProfileName = () => {\r\n    return async (dispatch, getState) => {\r\n\r\n        let name = getState().profile.name;\r\n\r\n        await dispatch(showModal({\r\n            type: 'input',\r\n            value: name,\r\n            onSubmit: (newName) => {\r\n                if (name !== newName) {\r\n                    name = newName;\r\n                }\r\n                return;\r\n            }\r\n        }));\r\n        \r\n        if (!name) {\r\n            dispatch({\r\n                type: SHOW_ALERT,\r\n                payload: {\r\n                    type: 'warning',\r\n                    text: 'Поле пустое !'\r\n                }\r\n            })\r\n            return;\r\n        }\r\n        \r\n        try {\r\n            const { data } = await axios.post('/api/changes/name', { name });\r\n            \r\n            if (data) {\r\n                let avatarNick = data.name.split(\" \").reduce((item, acc) => item[0] + acc[0])\r\n                \r\n                dispatch({\r\n                    type: CHANGE_PROFILE_NAME,\r\n                    payload: { name: data.name, avatarNick}\r\n                })\r\n                \r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'success',\r\n                        text: 'Имя обновлено'\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const changeProfileAvatar = (file, history) => {\r\n    return async (dispatch) => {\r\n        if (!file) {\r\n            dispatch(showAlert({\r\n                type: 'error',\r\n                text: 'Поле пустое !'\r\n            }));\r\n            return;\r\n        }\r\n        else {\r\n            try {\r\n                dispatch(loading(true));\r\n               \r\n                const formData = new FormData();\r\n                formData.append('avatar', file)\r\n                \r\n                const {data} = await axios.post('/api/upload/avatar', formData);\r\n\r\n                if (data.isSuccess) {\r\n                    dispatch({\r\n                        type: CHANGE_PROFILE_AVATAR,\r\n                        payload: data.avatar\r\n                    });\r\n                    dispatch(showAlert({\r\n                        type: 'success',\r\n                        text: data.message\r\n                    }));\r\n                    history.push('/profile')\r\n                }\r\n                else {\r\n                    dispatch(showAlert({\r\n                        type: 'error',\r\n                        text: data.message\r\n                    }));\r\n                }\r\n\r\n                dispatch(loading(false));\r\n            }\r\n            catch(e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const setMySongs = (data) => {\r\n    return {\r\n        type: SET_MY_SONGS,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const getMyAlbums = (data) => {\r\n    return {\r\n        type: FETCH_MY_ALBUMS,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const setSavedSongs = (data) => {\r\n    return {\r\n        type: SET_SAVED_SONGS,\r\n        payload: data,\r\n    }\r\n}\r\n\r\n\r\nexport const saveSong = (item) => {\r\n    return async (dispatch, getState) => {\r\n        try {   \r\n            const { data } = await axios.put(`/api/songs/save/${item._id}`, {isSaved: item.saved});\r\n\r\n            if (data.isSuccess) {\r\n                dispatch(showAlert({\r\n                    type: 'success',\r\n                    text: data.message\r\n                }));\r\n                \r\n                // Change set on Player component\r\n                if (item._id == getState().onPlay.song._id) {\r\n                    dispatch(setNowSong({...item, saved: !item.saved}));\r\n                }\r\n\r\n                dispatch({\r\n                    type: SAVE_SONG,\r\n                    payload: item,\r\n                    isSaved: item.saved\r\n                });\r\n            }\r\n            else {\r\n                dispatch(showAlert({\r\n                    type: 'error',\r\n                    text: data.message\r\n                }));\r\n            }\r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// Auth actions\r\nexport const login = (form) => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            dispatch({\r\n                type: LOADING,\r\n                payload: true\r\n            })\r\n            \r\n            const {data} = await axios.post('/api/auth/login', form);\r\n            \r\n            if (data.isSuccess) {\r\n                localStorage.setItem('userData', JSON.stringify(data.token));\r\n                \r\n                await dispatch(setProfile());\r\n\r\n                dispatch({\r\n                    type: LOG_IN,\r\n                    payload: { isSuccess: true, token: data.token }\r\n                }) \r\n                \r\n                \r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'success',\r\n                        text: data.message\r\n                    }\r\n                })\r\n            }    \r\n            else {\r\n                dispatch({\r\n                    type: LOG_IN,\r\n                    payload: {isSuccess: false}\r\n                })\r\n                \r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'error',\r\n                        text: data.message                        \r\n                    }\r\n                })\r\n            }\r\n            \r\n            return dispatch({\r\n                type: LOADING,\r\n                payload: false\r\n            })\r\n            \r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch, getState) => {\r\n        await localStorage.removeItem('userData');\r\n        \r\n        let name = getState().profile.name;\r\n        dispatch({\r\n            type: LOG_OUT\r\n        })\r\n        \r\n        dispatch({\r\n            type: SHOW_ALERT,\r\n            payload: {\r\n                type: 'success',\r\n                text: `Вы вышли из аккаунта ${name}`\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const register = (form) => {\r\n    return async (dispatch, getState) => {\r\n        \r\n        try {\r\n            dispatch({\r\n                type: LOADING,\r\n                payload: true\r\n            })\r\n            \r\n            const { data } = axios.post('/api/auth/register', form)\r\n            \r\n            if (data.isSuccess) {\r\n                \r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'success',\r\n                        text: data.message\r\n                    }\r\n                })\r\n                \r\n                dispatch({\r\n                    type: REGISTER,\r\n                    payload: data\r\n                })\r\n                \r\n                return data;\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'error',\r\n                        text: data.message\r\n                    }\r\n                })\r\n            }\r\n            dispatch({\r\n                type: LOADING,\r\n                payload: true\r\n            })\r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const recoveryPass = (email) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch({type: LOADING, payload: true})\r\n            const {data} = await axios.post('/api/auth/checkEmail', { email })\r\n            \r\n            if (data.isSuccess) {\r\n                dispatch({\r\n                    type: RECOVERY_PASS,\r\n                    payload: data.pass\r\n                })\r\n                dispatch({\r\n                    type: SHOW_ALERT,\r\n                    payload: {\r\n                        type: 'success',\r\n                        text: 'Пароль обновлен'\r\n                    }\r\n                })\r\n            }\r\n\r\n            dispatch({type: LOADING, payload: true})\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}","var _rect, _path, _path2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgLogoTablet = function SvgLogoTablet(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 28,\n    viewBox: \"0 0 28 28\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 21.5632,\n    y: 3.58972,\n    width: 3.82906,\n    height: 9.2583,\n    rx: 1.91453,\n    transform: \"rotate(45 21.5632 3.58972)\",\n    fill: \"#00ADB5\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M28 14C28 21.732 21.732 28 14 28C10.8499 28 7.94286 26.9596 5.60364 25.2038L7.75251 23.0549C9.52697 24.2815 11.6796 25 14 25C20.0751 25 25 20.0751 25 14C25 7.92487 20.0751 3 14 3C7.92487 3 3 7.92487 3 14C3 16.3718 3.75067 18.5683 5.0274 20.3649L2.88238 22.5099C1.07444 20.1515 0 17.2012 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z\",\n    fill: \"#00ADB5\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14.0085 23.0171C18.9838 23.0171 23.0171 18.9838 23.0171 14.0085C23.0171 9.03326 18.9838 5 14.0085 5C9.03326 5 5 9.03326 5 14.0085C5 18.9838 9.03326 23.0171 14.0085 23.0171ZM14.0087 20.5532C17.6232 20.5532 20.5534 17.6231 20.5534 14.0086C20.5534 10.394 17.6232 7.46389 14.0087 7.46389C10.3942 7.46389 7.46406 10.394 7.46406 14.0086C7.46406 17.6231 10.3942 20.5532 14.0087 20.5532Z\",\n    fill: \"#00ADB5\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogoTablet, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Logo_tablet.fde36f22.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState,  useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setDuration, setStart, setCurrentPlaylist } from '../../redux/actions/playActions';\r\nimport { setFullPlayer } from '../../redux/actions/interfaceActions';\r\nimport { saveSong } from '../../redux/actions/profileActions';\r\n\r\nimport { apiUrl } from '../../config/constants'\r\n\r\nlet audio;\r\n\r\nconst Player = ({ \r\n    dispatch, \r\n    start, \r\n    full, \r\n    song, \r\n    currentDuration, \r\n    savedSongs,\r\n    currentPlaylist,\r\n    fullScreen\r\n}) => { \r\n    const [stateVolume, setStateVolume] = useState(40);\r\n    const [inputDuration, setInputDuration] = useState(0);\r\n\r\n    const setAudio = () => {\r\n        setInputDuration(0);\r\n\r\n        if (song?.src) {\r\n\r\n            if (!audio) {\r\n                audio = new Audio()\r\n            }\r\n    \r\n            audio.src = apiUrl + song.src;\r\n            audio.volume = stateVolume / 100;\r\n\r\n            audio.onloadedmetadata = () => {\r\n                audio.ontimeupdate = (e) => {\r\n                    setInputDuration((audio.currentTime * 100) / audio.duration);\r\n                    dispatch(setDuration((audio.currentTime)));\r\n                }\r\n                \r\n                audio.onended = () => {\r\n                    setInputDuration(0)\r\n                    onStartPlay();\r\n                }\r\n            }\r\n            onStartPlay();\r\n        }    \r\n    }\r\n    \r\n    useEffect(() => {\r\n        setAudio();\r\n    }, [song.src]);\r\n\r\n    const playSong = () => {\r\n        if (song?.src && audio) {\r\n            dispatch(setStart());\r\n        }\r\n    }\r\n    \r\n    let onStartPlay = () => {\r\n        return start ? audio.play() : audio.pause();  \r\n    }    \r\n    \r\n    useEffect(() => {\r\n        if (audio) {\r\n            onStartPlay();\r\n        }\r\n    }, [start]);\r\n    \r\n    \r\n    // Start or play by press on Space\r\n    const spacePressHandle = (e) => {\r\n        if (e.code === 'Space' \r\n            && !e.repeat \r\n            && audio \r\n            && (document.activeElement.tagName !== 'INPUT')\r\n        ) {\r\n            playSong();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', spacePressHandle);\r\n        return () => window.removeEventListener(\"keydown\", spacePressHandle);\r\n    }, []);\r\n        \r\n\r\n    \r\n    // User handled\r\n    const handleProgress = e => {\r\n        if (song.src) {\r\n            let compute = (e.target.value * audio.duration) / 100;\r\n            dispatch(setDuration(compute))\r\n            setInputDuration(e.target.value)\r\n            audio.currentTime = compute;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (audio) {\r\n            audio.volume = stateVolume / 100;\r\n        }\r\n    }, [stateVolume]);\r\n      \r\n    \r\n    const mouseWheel = e => {\r\n        if (e.deltaY > 0) {\r\n            setStateVolume((prev) => (prev + 5 > 100) ? prev : prev + 5);\r\n        }\r\n        else {\r\n            setStateVolume((prev) => (prev - 5 < 0) ? prev : prev - 5);\r\n        }\r\n    }\r\n        \r\n    const repeatTrack = () => {\r\n        setInputDuration(0)\r\n        audio.currentTime = 0;\r\n            \r\n        if (start) {\r\n            audio.play();\r\n        }\r\n    }\r\n\r\n    const onSaveSong = async (item) => {  \r\n        await dispatch(saveSong(item));\r\n\r\n        let checkOnCurrentPlaylist = await currentPlaylist.find(el => el._id == item._id);\r\n        if (checkOnCurrentPlaylist) {\r\n            if (currentPlaylist !== savedSongs) {\r\n                let newSongs = await currentPlaylist.map(elem => {\r\n                    if (elem._id == item._id) {\r\n                        elem.saved = !item.saved;\r\n                    }\r\n                    return elem;\r\n                });\r\n                dispatch(setCurrentPlaylist(newSongs));\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"music__player\">\r\n            <div className=\"music__player-controls\">\r\n                <i className=\"fas fa-backward play-prev\" id=\"play_prev\" onClick={() => console.log(song)}></i>\r\n\r\n                <i className={`fas fa-${start ? \"pause\" : \"play\"}-circle play_btn`} \r\n                    onClick={() => playSong()}>\r\n                </i>\r\n                \r\n                <i className=\"fas fa-forward play-prev\" id=\"play_next\" onClick={() => console.log(song)}></i>\r\n            </div>\r\n\r\n            <div className=\"music__player-song-desk\">\r\n                <span className=\"music__player-song-desk-name\">{song && song.name}</span>\r\n                <span className=\"music__player-song-desk-artist\">{song && song.artist_name}</span>\r\n            </div>\r\n\r\n            <span className=\"music__player-toFull\">\r\n                <i className={`fas fa-chevron-${!full ? \"up\" : \"down\"}`} onClick={() => {\r\n                    song && song.hasOwnProperty(\"src\") && dispatch(setFullPlayer(!full))\r\n                }}></i>\r\n            </span>\r\n\r\n            <div className=\"music__player-timeline\">\r\n                <span id=\"music-time_now\">{ currentDuration }</span>\r\n\r\n                <input \r\n                    type=\"range\" \r\n                    name=\"progressBar\" \r\n                    preload=\"metadata\"\r\n                    id=\"music-range\" \r\n                    disabled={!song}\r\n                    value={inputDuration ? inputDuration : 0}\r\n                    onChange={handleProgress} />\r\n\r\n                <span id=\"music-time_total\">{song && song.duration}</span>\r\n            </div>  \r\n\r\n            <div className=\"music__player-bar\">\r\n\r\n                <span className=\"music__player-volume\">\r\n                    <i className={`fas fa-volume-${(stateVolume > 0) ? `up` : `off`}`} onClick={() => (stateVolume === 0) ? setStateVolume(50) : setStateVolume(0)}></i>\r\n                    \r\n                    <input \r\n                        type=\"range\" \r\n                        value={stateVolume} \r\n                        className=\"music__player-volume-range\" \r\n                        onWheel={mouseWheel}\r\n                        onChange={(e) => setStateVolume(e.target.value)} />\r\n                </span>\r\n                \r\n                <span onClick={() => onSaveSong(song)}>\r\n                    <i className={`fa${song?.saved ? \"s\" : \"r\"} fa-heart`}></i>\r\n                </span>\r\n\r\n                <span  className=\"music__player-full\">\r\n                    {/* <img src={repeatIcon} alt=\"repeat all\" id=\"repeat_all\"/> */}\r\n                    <i className={`fas fa-${!fullScreen ? \"expand\" : \"compress\"}`}></i>\r\n                </span>\r\n\r\n                <span onClick={repeatTrack}>\r\n                    <i className=\"fas fa-redo-alt\"></i>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        start: state.onPlay.start,\r\n        song: state.onPlay.song,\r\n        recomendSongs: state.songs.recomendSongs,\r\n        savedSongs: state.profile.saved_songs,\r\n        currentPlaylist: state.onPlay.currentPlaylist,\r\n        currentDuration: state.onPlay.currentDuration,\r\n        full: state.interface.fullPlayer\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Player);","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { changeDir, setFullPlayer, collapseSidebar } from \"../../redux/actions/interfaceActions\";\r\n \r\nimport { NavLink} from 'react-router-dom';\r\nimport { ReactComponent as Logo } from '../../assets/img/Logo.svg';\r\nimport { ReactComponent as LogoTablet } from '../../assets/img/Logo_tablet.svg';\r\n\r\nconst Sidebar = ({ dispatch, path, collapsed }) => {\r\n    let sidebar = [\r\n        {\r\n          \"name\": \"For you\",\r\n          \"path\": \"/for-you\",\r\n          \"icon\": \"heartbeat\",\r\n          \"id\": 1\r\n        },\r\n        {\r\n          \"name\": \"Artists\",\r\n          \"path\": \"/artist\",\r\n          \"icon\": \"users\",\r\n          \"id\": 2\r\n        },\r\n        {\r\n          \"name\": \"Albums\",\r\n          \"path\": \"/albums\",\r\n          \"icon\": \"compact-disc\",\r\n          \"id\": 3\r\n        },\r\n        {\r\n          \"name\": \"Songs\",\r\n          \"path\": \"/songs\",\r\n          \"icon\": \"music\",\r\n          \"id\": 4\r\n        },\r\n        {\r\n          \"name\": \"Playlists\",\r\n          \"path\": \"/playlists\",\r\n          \"icon\": \"stream\",\r\n          \"id\": 5\r\n        },\r\n        {\r\n          \"name\": \"Search\",\r\n          \"path\": \"/search\",\r\n          \"icon\": \"search\",\r\n          \"id\": 6\r\n        },\r\n        {\r\n          \"name\": \"Upload\",\r\n          \"path\": \"/upload\",\r\n          \"icon\": \"cloud-upload-alt\",\r\n          \"id\": 7\r\n    }];\r\n \r\n    return (\r\n        <div className={`music__sidebar ${collapsed ? 'collapsed' : ''}`}>\r\n            \r\n            <div className=\"music__sidebar-logo\">\r\n                <Logo className=\"music__sidebar-logo-main\" alt=\"erte\"/>\r\n\r\n                <LogoTablet className=\"music__sidebar-logo-tablet\" alt=\"erte\"/>\r\n            </div>\r\n                \r\n            <ul>\r\n                {\r\n                sidebar.map(item => {\r\n                    return (\r\n                      <li \r\n                          key={item.id}\r\n                          className={item.path === path.path ? \"active\" : \"\"}>\r\n                          \r\n                          <NavLink \r\n                              to={`${item.path}`} \r\n                              onClick={() => {\r\n                                  dispatch(changeDir({name: item.name, path: item.path}));\r\n                                  dispatch(setFullPlayer(false));\r\n                              }}>\r\n                              <i className={`fas fa-${item.icon} music__sidebar-item-icon`}></i>\r\n                              \r\n                              <span className=\"music__sidebar-item-text\">{item.name}</span>\r\n                          </NavLink>\r\n                      </li>\r\n                    );\r\n                })}   \r\n            </ul>\r\n\r\n            <div className=\"music__sidebar-collapse\" onClick={() => dispatch(collapseSidebar(!collapsed))}>\r\n              <div className=\"music__sidebar-collapse-wrap\">\r\n                <span>Collapse</span>\r\n                <i className={`fas fa-chevron-${collapsed ? 'right' : 'left'}`}></i>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        path: state.interface.path,\r\n        collapsed: state.interface.sidebarCollapsed\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Sidebar);","import React, { useState } from \"react\";\r\n\r\nconst Button = ({ onClick, disabled, text, color, type, active, list, className = \"\" }) => {\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [current, setCurrent] = useState(list && list[0] || null);\r\n\tconst [visible, setVisible] = useState(false);\r\n\r\n\tif (type === 'message') {\r\n\t\tif (visible) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"music-button message\">{text}</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t}\r\n\r\n\telse if (type === 'select') {\r\n\t\treturn (\r\n\t\t\t<div className=\"music-button-select\">\r\n\t\t\t\t<div className=\"music-button-select-input\" onClick={() => setOpen(!open)}>\r\n\t\t\t\t\t<p>{current}</p>\r\n\t\t\t\t\t<i className={`fas fa-chevron-${open ? \"up\" : \"down\"}`}></i>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={`music-button-select-list ${open ? 'active': ''}`}>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist.map((item, index) => \r\n\t\t\t\t\t\t\t\t<li onClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetCurrent(item)\r\n\t\t\t\t\t\t\t\t\tsetOpen(false)\r\n\t\t\t\t\t\t\t\t}} key={index}>{item}</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\telse if (type === 'checkbox') {\r\n\t\treturn (\r\n\t\t\t<div className={`music-button-checkbox ${open ? \"checked\" : \"\"}`} onClick={() => {\r\n\t\t\t\t\tsetOpen(!open);\r\n\t\t\t\t}}>\r\n\t\t\t\t<div className={`music-button-checkbox-check`}></div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<button {...{ onClick, disabled }}\r\n\t\t\t\tclassName={`music-button${active ? ' active': ''} ${className}`}>\r\n\t\t\t\t{text}\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nexport default Button;","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { setFullPlayer } from '../../redux/actions/interfaceActions';\r\nimport { apiUrl } from '../../config/constants'\r\n\r\nimport Button from \"../Button\";\r\n\r\n\r\nconst FullPlayer = ({ dispatch, full, song }) => {\r\n    const history = useHistory()\r\n    \r\n    return (\r\n        <div className={`music__main-full ${full ?  'active' : ''}`}>\r\n\r\n        {song && \r\n            <>\r\n                <h1>{song.name}</h1>\r\n\r\n                <div className=\"music__main-full-info\">\r\n    \r\n                    <span>Artist:  \r\n                        <Link to={`/artist/${song.artist_id}`} onClick={() => dispatch(setFullPlayer(false))}>\r\n                            <span> {song.artist_name}</span>\r\n                        </Link>\r\n                    </span>\r\n    \r\n                    {song.album_name && <span>Album: \r\n                        <Link to={`/album/${song.album_id}`} onClick={() => dispatch(setFullPlayer(false))}>\r\n                            <span> {song.album_name}</span>\r\n                        </Link>\r\n                        </span>\r\n                    }\r\n    \r\n                    {song.genre && \r\n                        <div className=\"music__main-full-info-genres\">\r\n                            <span>Genre:</span> \r\n                            {\r\n                                song.genre.map(item => (\r\n                                    <Link to={`/genre/${item}`} key={item} onClick={() => {\r\n                                        dispatch(setFullPlayer(false))\r\n                                        history.push('/Search')\r\n                                    }} className=\"music__main-full-info-genres-item\">\r\n                                        <Button text={item} subClass=\"mr-20\" type=\"button\"/>\r\n                                    </Link>\r\n                                ))\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n    \r\n                <div className=\"music__main-full-main\">\r\n                    <div className=\"music__main-full-main-cover\">\r\n                        <img src={apiUrl + song.cover} alt=\"\"/>\r\n                    </div>\r\n                </div>\r\n    \r\n                { song.lyrics && \r\n                    <div className=\"music__main-full-lyrics\">\r\n                        <h3>Lyrics:</h3>\r\n                    \r\n                        <span>{song.lyrics}</span>\r\n                         \r\n                    </div>\r\n                }\r\n    \r\n            </>\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        song: state.onPlay.song,\r\n        full: state.interface.fullPlayer\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FullPlayer);","import React from 'react';\r\n\r\nconst Albums = () => {\r\n    return (\r\n        <div className=\"music__main-albums\">\r\n            <h2 className=\"subtitle\">Albums</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Albums;","import { SET_NOW_ALBUM, DELETE_ALBUM, UPLOAD_ALBUM} from \"../types/albumsTypes\";\r\nimport { loading, showAlert } from \"../actions/interfaceActions\";\r\nimport checkSavedSongs from \"../actions/songsActions\"\r\n\r\nimport store from \"../../index.js\";\r\nimport axios from \"../../core/axios\"\r\n\r\nexport const setNowAlbum = (id, newAlbum) => {\r\n    if (!newAlbum) {\r\n        return async (dispatch, getState) => {\r\n            try {\r\n                dispatch(loading(true));\r\n                \r\n                const {data} = await axios.get(`/api/albums/album/${id}`);\r\n\r\n                if (data.isSuccess) {\r\n\r\n                    let albumSongs = await checkSavedSongs(data.album.songs, getState().profile.saved_songs);\r\n                    \r\n                    data.album.songs = albumSongs;\r\n\r\n                    dispatch({\r\n                        type: SET_NOW_ALBUM,\r\n                        payload: data.album\r\n                    });\r\n                }\r\n\r\n                else {\r\n                    dispatch(showAlert({\r\n                        type: 'error',\r\n                        text: 'Не удалосб загрузить альбом'\r\n                    }));\r\n                }\r\n                \r\n                return dispatch(loading(false))\r\n            }\r\n            catch(e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        return {\r\n            type: SET_NOW_ALBUM,\r\n            payload: {...newAlbum, songs: checkSavedSongs(newAlbum.songs, store.getState().profile.saved_songs)}\r\n        }\r\n    }\r\n}\r\n\r\nexport const uploadAlbum = (form) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(loading(true));\r\n\r\n            const { data } = await axios.post('/api/upload/album', form);\r\n\r\n            if (data.isSuccess) {\r\n                dispatch(showAlert({\r\n                    type: 'success',\r\n                    text: data.message\r\n                }));\r\n                dispatch({\r\n                    type: UPLOAD_ALBUM,\r\n                    payload: data.album\r\n                })\r\n            }\r\n            else {\r\n                dispatch(showAlert({\r\n                    type: 'error',\r\n                    text: data.message\r\n                }));\r\n            }\r\n\r\n            dispatch(loading(false));\r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteAlbum = (id, name) => {\r\n    return async (dispatch) => {\r\n        let question = window.confirm(`Are you sure delete album [${name}] ?`);\r\n\r\n        if (question) {\r\n\r\n            try {\r\n                dispatch(loading(true))\r\n\r\n                const {data } = await axios.delete(`/api/albums/delete/${id}`);\r\n                if (data.isSuccess) {\r\n\r\n                    dispatch(showAlert({\r\n                        type: 'success',\r\n                        text: data.message\r\n                    }));\r\n\r\n                    dispatch({\r\n                        type: DELETE_ALBUM,\r\n                        payload: id\r\n                    });\r\n                }\r\n                else {\r\n                    dispatch(showAlert({\r\n                        type: 'error',\r\n                        text: data.message\r\n                    }));\r\n                }\r\n                \r\n                dispatch(loading(false))\r\n            }\r\n            catch(e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n    }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {  connect } from \"react-redux\";\r\n\r\nimport { apiUrl } from \"../../config/constants\";\r\n\r\nimport { saveSong } from \"../../redux/actions/profileActions\";\r\nimport { deleteSong } from \"../../redux/actions/songsActions\";\r\nimport { onPlay, setCurrentPlaylist } from \"../../redux/actions/playActions\";\r\n\r\nconst SongsTemp = ({ \r\n    dispatch,\r\n    song,  \r\n    start, \r\n    my, \r\n    night, \r\n    type, \r\n    setAlbum, \r\n    editSong,\r\n\r\n    currentPlaylist,\r\n    currentAlbum,\r\n\r\n    savedSongs,\r\n\r\n    songs, //songs\r\n    setSongs // redux action to set songs array\r\n}) => {\r\n\r\n    useEffect(() => {\r\n        dispatch(setCurrentPlaylist(songs))\r\n    }, [songs]);\r\n\r\n\r\n    const onSaveSong = async (item, index) => {\r\n        let newSongs = songs;\r\n        await dispatch(saveSong(item));\r\n        \r\n        if (type !== 'Saved') {     \r\n            newSongs[index].saved = !item.saved;\r\n            \r\n            if (type !== 'Album') {\r\n                await dispatch(setSongs(newSongs));\r\n            }\r\n            else {\r\n                let newAlbum = currentAlbum;\r\n                newAlbum.songs = [...newSongs];\r\n                await dispatch(setAlbum(currentAlbum._id, newAlbum));\r\n            }\r\n\r\n            dispatch(setCurrentPlaylist(newSongs));\r\n        }\r\n        else {\r\n            dispatch(setCurrentPlaylist(savedSongs));\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <ol className={`music__main-temp-songs-list${!night ? \" night\" : \"\"}`}>\r\n            {currentPlaylist.map((item, index) => {\r\n                return (\r\n                    <li key={index} className={(song._id === item._id) ? \"now_play\" : ''}>\r\n                        {type && type !== 'Upload' ?\r\n                            <i className={`fas fa-${(start && song && song?._id === item._id)  ? \"pause\" : \"play\"}-circle play_btn`} \r\n                                onClick={() => { \r\n                                    dispatch(onPlay(item, songs));\r\n                                }}>\r\n                            </i>\r\n                            : null\r\n                        }\r\n\r\n                        {type && type !== \"Upload\" &&\r\n                            <div className=\"music__main-temp-songs-list-avatar\">\r\n                                {item.cover ? <img src={apiUrl + item.cover} alt=\"\" /> : null}\r\n                            </div>\r\n                        }\r\n\r\n                        <span className=\"music__main-temp-songs-list_name\">\r\n                            <Link to={`/Artist/${item.artist_id}`} className=\"music__main-temp-songs-list-link\">\r\n                                <span className=\"music__main-temp-songs-list_artist-name\">\r\n                                    {item.artist_name}\r\n                                </span>\r\n                            </Link>\r\n                            \r\n                            <span className=\"music__main-temp-songs-list-defis\"> - </span>\r\n\r\n                            {item.name?.length > 20 ?\r\n                                <marquee scrollamount=\"2\" className=\"music__main-temp-songs-list_track-name\">\r\n                                    <span className=\"music__main-temp-songs-list_track-name-wrap\">\r\n                                        {item.name}\r\n                                    </span>\r\n                                </marquee>\r\n                                :\r\n                                <span className=\"music__main-temp-songs-list_track-name\">\r\n                                    <span className=\"music__main-temp-songs-list_track-name-wrap\">\r\n                                        {item.name}\r\n                                    </span>\r\n                                </span>\r\n                            }\r\n                        </span>\r\n\r\n                        <span className=\"music__main-temp-songs-list-album\">{item.type ? (item.type == \"single\" ? item.type : item.album_name) : ''}</span>\r\n\r\n                        <div className=\"music__main-temp-songs-list_right\">\r\n\r\n                            {type == 'Upload' &&\r\n                                <span className=\"music__main-temp-songs-list_right-delete\" onClick={() => editSong(item, index)}>\r\n                                    <i className=\"fas fa-pencil-alt\"></i>\r\n                                </span>\r\n                            }\r\n                            \r\n                            {my && item.type == 'single' &&\r\n                                <span className=\"music__main-temp-songs-list_right-trash\" onClick={() => dispatch(deleteSong(item._id))}>\r\n                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                </span>\r\n                            }\r\n\r\n                            {type == 'Upload' ?\r\n                                <span className=\"music__main-temp-songs-list_right-trash\" \r\n                                    onClick={() => {\r\n                                        const newAlbums = currentPlaylist.filter((el, ind) => ind !== index);\r\n                                        setSongs(newAlbums);\r\n                                    }}>\r\n                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                </span>\r\n                                : null\r\n                            }\r\n\r\n                            <span className=\"music__main-temp-songs-list_right-download\">\r\n                                <i className=\"fas fa-arrow-circle-down\"></i>\r\n                            </span>\r\n\r\n                            {type && type !== 'Upload' &&\r\n                                <span className=\"music__main-temp-songs-list_right-save\"\r\n                                    onClick={() => onSaveSong(item, index)}>\r\n                                    \r\n                                    <i className={`fa${item.saved ? 's' : 'r'} fa-heart`}></i>\r\n                                </span>\r\n                            }\r\n                            \r\n                            <span className=\"music__main-temp-songs-list_right-time_now\">\r\n                                { type !== 'Upload' ? item.duration : '0:00'}\r\n                            </span>\r\n                        </div>\r\n\r\n                    </li>\r\n                );\r\n            })}\r\n    </ol>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        song: state.onPlay.song,\r\n        start: state.onPlay.start,\r\n        night: state.interface.night,\r\n        loading: state.interface.loading,\r\n        savedSongs: state.profile.saved_songs,\r\n        \r\n        currentPlaylist: state.onPlay.currentPlaylist,\r\n        currentAlbum: state.albums.currentAlbum,\r\n        \r\n        recomendSongs: state.songs.recomendSongs,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SongsTemp)","import React from \"react\"\r\n\r\nconst Preloader = () => {\r\n\treturn (\t\t\t\t\t\r\n\t\t<div className=\"loader\">\r\n\t\t\t<span className=\"loader first\"></span>\r\n\t\t\t<span className=\"loader second\"></span>\r\n\t\t\t<span className=\"loader thirth\"></span>\r\n\t\t\t<span className=\"loader fourth\"></span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Preloader;","import React, { useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { setNowAlbum } from \"../../redux/actions/albumsActions\";\r\nimport SongsTemp from \"../../components/SongsTemp\"; \r\nimport Preloader from \"../../components/Preloader\";\r\n\r\nconst Album = ({ dispatch, album, loading }) => {\r\n\r\n    let id = useParams().id;\r\n\r\n    useEffect(() => {\r\n        dispatch(setNowAlbum(id));\r\n    }, []);\r\n\r\n\r\n    if (loading) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"music__main-album\">\r\n            <h2 className=\"subtitle\">Album: {album.name}</h2>\r\n\r\n            {album.songs &&  \r\n                <SongsTemp songs={album.songs} setAlbum={setNowAlbum} type=\"Album\"/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        album: state.albums.currentAlbum,\r\n        myAlbums: state.profile.albums,\r\n        loading: state.interface.loading\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Album);","import { FETCH_RECOMEND_ARTISTS, GET_ARTIST } from '../types/artistsTypes';\r\nimport {loading, showAlert} from \"../actions/interfaceActions\";\r\n\r\nimport axios from \"../../core/axios\";\r\n\r\nexport const getRecomendArtists = () => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            if (getState().artists.recomendArtists.length > 0) {\r\n                \r\n                return dispatch({\r\n                    type: FETCH_RECOMEND_ARTISTS,\r\n                    payload: getState().artists.recomendArtists\r\n                })\r\n            }\r\n            \r\n            else {   \r\n                const { data } = await axios.get('/api/users/artists');\r\n                \r\n                dispatch({\r\n                    type: FETCH_RECOMEND_ARTISTS,\r\n                    payload: data\r\n                })\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n}\r\n\r\nexport const getArtist = (id) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(loading(true))\r\n\r\n            const {data} = await axios.get(`/api/users/artist/${id}`)\r\n            if (data) {\r\n                dispatch({\r\n                    type: GET_ARTIST,\r\n                    payload: {\r\n                        ...data, description_large: data.description.substr(0, 30) + '...'\r\n                    }\r\n                })\r\n            }\r\n\r\n            dispatch(loading(false))\r\n        }\r\n        catch (e) {\r\n            dispatch(showAlert({\r\n                type: 'error',\r\n                text: 'Не удалось загрузить профиль артиста'\r\n            }))\r\n        }\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from 'react-router-dom';\r\nimport Slider from 'react-slick';\r\n\r\nimport { apiUrl } from '../../config/constants'\r\nimport { changeDir } from \"../../redux/actions/interfaceActions\";\r\nimport { deleteAlbum } from \"../../redux/actions/albumsActions\";\r\nimport { getNickByAvatar } from \"../../redux/actions/profileActions\";\r\nimport { playAlbum } from \"../../redux/actions/playActions\";\r\n\r\nimport { leftIcon, rightIcon } from '../images';\r\n\r\nconst CardsTemp = ({dispatch, items, to, start, my, myAlbums, collapsed }) => {\r\n\r\n\r\n    \r\n    const SlickArrowLeft = ({ currentSlide, slideCount, ...props }) => (\r\n        <div\r\n            {...props}\r\n            className={\r\n              \"slick-prev slick-arrow\" +\r\n              (currentSlide === 0 ? \" slick-disabled\" : \"\")\r\n            }\r\n            aria-hidden=\"true\"\r\n            aria-disabled={currentSlide === 0 ? true : false}>\r\n\r\n            <img src={leftIcon} alt=\"left-con\"/>\r\n        </div>\r\n    )\r\n    \r\n    const SlickArrowRight = ({ currentSlide, slideCount, ...props }) => (\r\n        <div\r\n            {...props}\r\n            className={\r\n              \"slick-next slick-arrow\" +\r\n              (currentSlide === slideCount - 1 ? \" slick-disabled\" : \"\")\r\n            }\r\n            aria-hidden=\"true\"\r\n            aria-disabled={currentSlide === slideCount - 1 ? true : false}>\r\n            <img src={rightIcon} alt=\"right-con\"/>\r\n        </div>\r\n    )\r\n\r\n     // For slider\r\n     const settings = {\r\n        dots: true,\r\n        infinite: items.length > 3 ? true : false,\r\n        speed: 500,\r\n        prevArrow: <SlickArrowLeft/>,\r\n        nextArrow: <SlickArrowRight/>,\r\n        arrows: true,\r\n        variableWidth: true,\r\n        slidesToShow: 3,\r\n        slidesToScroll: 1\r\n    };\r\n\r\n    if (to === \"Artists\") {\r\n        return (\r\n            <div className=\"music__main-slider\">\r\n\r\n                <span className=\"music__main-slider-view\">View all</span>\r\n                 <Slider {...settings}>\r\n                    {items.map((item, index) => \r\n                        <div className={`music__main-slider-item ${collapsed ? 'large' : ''}`} key={index} onClick={() => dispatch(changeDir({name: 'Artist', path: '/artist'}))}>\r\n                            <Link to={\"/artist/\" + item._id}>\r\n                                <div className=\"music__main-slider-item-wrap\">\r\n                                        {item.avatar?.length ?\r\n                                            <img src={apiUrl +item.avatar} alt=\"\" className=\"slider_img\" />\r\n                                            :\r\n                                            <div className=\"music__main-slider-item-wrap-nick\">\r\n                                                <span>{getNickByAvatar(item.name)}</span>\r\n                                            </div>\r\n                                        }\r\n\r\n                                    <div className=\"music__main-slider-item-wrap-text\">        \r\n                                        <h2 className=\"music__main-slider-item-wrap_artist\">{item.name}</h2>\r\n        \r\n                                        <div className=\"music__main-slider-item-wrap_desk\">\r\n                                            <span>{item.albums.length} Albums | </span>\r\n                                            <span>{(item.listenings/100000).toFixed(1)}M Followers</span> \r\n                                        </div>    \r\n                                    </div>\r\n                                </div>     \r\n                            </Link>    \r\n                        </div> \r\n                    )}\r\n                </Slider>\r\n            </div>\r\n        )\r\n    }\r\n    else if (to === \"Albums\") {\r\n        return (\r\n            <div className=\"music__main-slider artist\">\r\n          \r\n                <span className=\"music__main-slider-view\">View all</span>\r\n                \r\n                 <Slider {...settings}>\r\n                    {items.map(item => \r\n                    <div className={`music__main-slider-item ${collapsed ? 'large' : ''}`}\r\n                        key={item.name}  \r\n                        onClick={() => dispatch(changeDir({name: 'Album', path: '/album'}))}>\r\n\r\n                        <Link to={\"/album/\" + item._id}>\r\n\r\n                                <div className={`music__main-slider-item-hover jc-c`}>\r\n                                    <span className=\"music__main-slider-item-hover-play\" onClick={() => dispatch(playAlbum(item))}>\r\n                                        <i className={`fas fa-${start ? \"pause\" : \"play\"}-circle play_btn`}></i>\r\n                                    </span>\r\n    \r\n                                    {my && <span className=\"music__main-slider-item-hover-trash\" onClick={() => dispatch(deleteAlbum(item._id, item.name))}>\r\n                                        <i className=\"fas fa-trash-alt\"></i>\r\n                                    </span>}\r\n                                </div>\r\n    \r\n                                <div className=\"music__main-slider-item-wrap\">\r\n                                    <img src={apiUrl + item.cover} alt=\"\" className=\"music__main-slider-item-wrap-img slider_img\"/>\r\n\r\n                                    <div className=\"music__main-slider-item-wrap-text\">\r\n                                        <h2 className=\"music__main-slider-item-wrap_artist\">{item.name}</h2>\r\n\r\n                                        <div className=\"music__main-slider-item-wrap_desk\">\r\n                                            <span>{item.listenings} listeners | </span>\r\n                                            <span>{item.songs.length} tracks</span> \r\n                                        </div>   \r\n                                    </div>\r\n                                </div>\r\n                        </Link>        \r\n                    </div> \r\n                    )}\r\n                </Slider>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { \r\n        start: state.onPlay.start,\r\n        song: state.onPlay.song,\r\n        profile: state.profile,\r\n        collapsed: state.interface.sidebarCollapsed,\r\n        myAlbums: state.profile.albums\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CardsTemp)","import React, { useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { getRecomendArtists } from '../../redux/actions/artistsActions';\r\nimport { setRecomendSongs } from '../../redux/actions/songsActions';\r\n\r\nimport SongsTemp from \"../../components/SongsTemp\";\r\nimport CardsTemp from \"../../components/CardsTemp\";\r\nimport Preloader from \"../../components/Preloader\"\r\n\r\nconst For = ({ dispatch, loading, recomendSongs, recomendArtists }) => {\r\n\r\n    useEffect(() => {\r\n        if (!recomendSongs.length) {\r\n            dispatch(setRecomendSongs())\r\n        }\r\n        else {\r\n            dispatch(setRecomendSongs(recomendSongs))\r\n        }\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        dispatch(getRecomendArtists())\r\n    }, [dispatch, recomendArtists]);\r\n    \r\n\r\n    if (loading) {\r\n        return (\r\n            <Preloader/>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"music__main-for\">\r\n            \r\n            { recomendArtists.length ? \r\n                <div className=\"music__main-artist-artists\">\r\n                    <h2 className=\"subtitle\">Artists for you</h2>\r\n                    \r\n                    <CardsTemp items={recomendArtists} to=\"Artists\" />\r\n                </div>\r\n                : null\r\n            }\r\n\r\n            <div className=\"music__main-songs\">\r\n                <div className=\"music__main-songs-nav\">\r\n                    <h2 className=\"subtitle\">Music for you</h2>\r\n\r\n                    {/* <div className=\"music__main-songs-nav-bar\">\r\n                        <span onClick={() => onSavePlaylist(save, {\r\n                            \"name\": \"Most popular\",\r\n                            \"cover\": song.cover,\r\n                            \"data\": recomendSongs\r\n                        })}>\r\n                            <i className=\"far fa-heart\"></i>\r\n                        </span>\r\n\r\n                        <span>\r\n                            <i className=\"far fa-plus-square\"></i>\r\n                        </span>\r\n\r\n                        <span>\r\n                            <i className=\"far fa-share-square\"></i>\r\n                        </span>\r\n                    </div> */}\r\n                </div>\r\n\r\n                {recomendSongs?.length ?\r\n                    <SongsTemp songs={recomendSongs} setSongs={setRecomendSongs} type=\"Songs\"/>\r\n                    : null\r\n                }\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loading: state.interface.loading,\r\n        start: state.onPlay.start,\r\n        recomendSongs: state.songs.recomendSongs,\r\n        recomendArtists: state.artists.recomendArtists,\r\n        savedSongs: state.profile.saved_songs,\r\n        song: state.onPlay.song,\r\n        save: state.songs.save,\r\n        profile: state.profile\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(For);","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst PrevPage = ({ classNames }) => {\n    const history = useHistory();\n    \n    return (\n        <span className={`music__main-page-go-back ${classNames}`} onClick={() => history.goBack()}>\n            <i className='fas fa-chevron-left'></i>\n        </span>\n    );\n}\n\nexport default PrevPage;","import React, { useEffect } from 'react';\r\nimport { useParams, Link} from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport SongsTemp from \"../../components/SongsTemp\"\r\nimport CardsTemp from \"../../components/CardsTemp\";\r\nimport Preloader from \"../../components/Preloader\";\r\nimport Button from \"../../components/Button\";\r\nimport PrevPage from \"../../components/PrevPage\";\r\n\r\nimport { apiUrl } from '../../config/constants'\r\n\r\nimport { getArtist } from '../../redux/actions/artistsActions';\r\n\r\nconst Artist = ({ dispatch, loading, artist, recomendArtists }) => {\r\n    let id = useParams().id;\r\n\r\n    useEffect(() => {\r\n        dispatch(getArtist(id));\r\n    }, [getArtist])\r\n    \r\n\r\n    if (loading) {\r\n        return (\r\n            <Preloader/>\r\n        );\r\n    }\r\n      \r\n    return (\r\n        <div className=\"music__main-artist\">\r\n\r\n            <div className=\"music__main-artist-header\">\r\n                \r\n                <PrevPage/>\r\n\r\n                <div className=\"music__main-artist-header-desc\">\r\n\r\n                    <h1 className=\"music__main-artist-header-desc-name\">{artist.name}</h1>\r\n                    <span className=\"music__main-artist-header-desc-about\">{artist.description}</span>\r\n\r\n                    <div className=\"music__main-artist-header-desc-info\">\r\n                        {\r\n                            artist.tags ?\r\n                            artist.tags.map((item, index) => \r\n                                <Link className=\"music__main-artist-header-desc-info-genre\" to={`/Genre/${item.name}`} key={index}>\r\n                                    {item.name}\r\n                                </Link>\r\n                            ) : \r\n                            <span className=\"music__main-artist-header-desc-info-genre\">{'No Genre'}</span>\r\n                        }\r\n\r\n                            <span className=\"middot\">&middot;</span>\r\n\r\n                            {/* <span className=\"music__main-artist-header-desc-info-listeners\">{(artist.listenings/100000).toFixed(1)}M listeners</span> */}\r\n                            <span className=\"music__main-artist-header-desc-info-listeners\">69M listeners</span>\r\n\r\n                            <span className=\"middot\">&middot;</span>\r\n                            \r\n                            {/* <span className=\"music__main-artist-header-desc-info-albums\">{artist.albums.length && artist.albums.length} albums</span> */}\r\n                            <span className=\"music__main-artist-header-desc-info-albums\">14 albums</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"music__main-artist-header-desc-btns\">\r\n                        <Button \r\n                            type=\"button\"\r\n                            subClass=\"dark mr-20\"\r\n                            onClick={() => alert('follow')}\r\n                            text={\r\n                                <>\r\n                                    <i className=\"fas fa-bookmark\"></i>\r\n                                    <span>Follow</span>\r\n                                </>\r\n                            }/>\r\n                        \r\n                        <Button \r\n                            type=\"button\"\r\n                            onClick={() => alert('lister')}\r\n                            text={\r\n                                <>\r\n                                    <i className=\"fas fa-play\"></i>\r\n                                    <span className='ml-12'>Listen</span>\r\n                                </>\r\n                            }/>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    artist.avatar ?\r\n                        <div className=\"music__main-artist-header-avatar\">\r\n                            <img src={apiUrl + artist.avatar} alt=\"\"/>\r\n                        </div>\r\n                    : \r\n                    <div className=\"music__main-artist-header-avatar-replace\"></div>\r\n                    \r\n                }\r\n            </div>\r\n            \r\n            <div className=\"music__main-artist-albums\">\r\n            { recomendArtists.length && \r\n                <div>\r\n                    <h2 className=\"subtitle\">Artists for you</h2>\r\n\r\n                    <CardsTemp items={recomendArtists} to=\"Artists\"/>\r\n                </div>\r\n            }\r\n            </div> \r\n\r\n            <div className=\"music__main-artist-songs\">\r\n                <h2 className=\"subtitle\">Most popular songs</h2>\r\n                { (artist && artist.songs) ?\r\n                    <SongsTemp songs={artist.songs} type=\"Songs\"/>:\r\n                    <h2 className=\"music__main-subtitle\">This artists no have songs</h2>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        artist: state.artists.artist,\r\n        recomendArtists: state.artists.recomendArtists,\r\n        loading: state.interface.loading\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Artist);","import React from 'react'\r\n\r\nconst Playlists = () => {\r\n    // const [data, setData] = useState([])\r\n\r\n    // useEffect(() => {\r\n    //  axios.get(\"http://localhost:3001/playlists/\")\r\n    //     .then(({ data }) => setData(data));   \r\n    // }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"music__main-playlist\">\r\n            <h2 className=\"subtitle\">My playlists</h2>\r\n\r\n            <ul className=\"music__main-playlist-list\">           \r\n                {/* {\r\n                    (data) ? (\r\n                        data.map((item) => {\r\n                            return (\r\n                                <li>\r\n                                    <NavLink to={\"/Playlists/\" + item.name}>\r\n                                        <div className=\"music__main-playlist-list_img-wrap\">\r\n                                            <img src={item.cover} alt=\"\"/>\r\n                                            \r\n                                            <i className={`fas fa-play-circle play_btn`}></i>\r\n                                        </div>\r\n                                        \r\n                                        <span>\r\n                                            {item.id}. \r\n                                        </span>\r\n                                          \r\n                                        <h2>\r\n                                            {item.name}\r\n                                        </h2>\r\n                                        \r\n                                        <span>\r\n                                        </span>\r\n                                    </NavLink>\r\n                                </li>\r\n                            )\r\n                        })\r\n                    ) : (<h2 className=\"subtitle\">Error</h2>)\r\n                } */}\r\n            </ul> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Playlists;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Preloader from \"../../components/Preloader\";\r\nimport Button from \"../../components/Button\";\r\nimport SongsTemp from \"../../components/SongsTemp\";\r\n\r\nimport { setSavedSongs } from \"../../redux/actions/profileActions\";\r\n\r\nconst Songs = ({ savedSongs }) => {\r\n\r\n    if (!savedSongs) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"music__main-saved-songs\">\r\n            <div className=\"music__main-saved-songs-head\">\r\n                <h2 className=\"subtitle\">Saved songs</h2>\r\n\r\n                <div className=\"music__main-saved-songs-head-sort\">\r\n                    <span>Sort by: </span>\r\n                    <Button type=\"select\" list={['Last added', 'Older', 'Name']}/>\r\n                </div>\r\n            </div>\r\n\r\n                {savedSongs && savedSongs.length > 0 ?\r\n                    <SongsTemp songs={savedSongs} setSongs={setSavedSongs} type=\"Saved\"/>\r\n                    :\r\n                    <span className='music__main-empty-text'>You dont have saved songs</span>\r\n                }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        savedSongs: state.profile.saved_songs,\r\n        song: state.onPlay.song,\r\n        start: state.onPlay.start\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Songs);","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { MainContext } from \"../index.jsx\";\r\n\r\nconst ChooseLength = () => {\r\n\tconst { setBtnDisabled, setForm, form, setSteps, steps, setScrollSteps, scrollSteps } = useContext(MainContext);\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tconst list = [{\r\n\t\ttype: \"single\",\r\n\t\ttext: \"Single track\"\r\n\t},\r\n\t{\r\n\t\ttype: \"album\",\r\n\t\ttext: \"Album (min - 5 tracks)\"\r\n\t},\r\n\t{\r\n\t\ttext: 'EP (min - 2, max - 4 tracks)',\r\n\t\ttype: 'ep'\r\n\t}];\r\n\r\n\tconst [active, setActive] = useState(list[0].text);\r\n\r\n\tconst handleLength = (item) => {\r\n\r\n\t\t// if (item === list[0]) {\r\n\r\n\t\t// \tif (steps.includes(ChooseName)) {\r\n\t\t// \t\tconst newSteps = steps.filter(i => i !== ChooseName);\r\n\t\t// \t\tsetSteps(newSteps)\r\n\t\t// \t}\r\n\t\t// \tsetScrollSteps(scrollSteps.filter(i => i !== 'Name'));\r\n\t\t// }\r\n\t\t// else {\r\n\t\t// \tif (!steps.includes(ChooseName)) {\r\n\t\t// \t\tsteps.splice(2, 0, ChooseName)\r\n\t\t// \t\tsetSteps(steps);\r\n\t\t// \t}\r\n\r\n\t\t// \tif (!scrollSteps.includes('Name')) {\r\n\t\t// \t\tscrollSteps.splice(2, 0, 'Name');\r\n\t\t// \t\tsetScrollSteps(scrollSteps)\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tsetActive(item.text)\r\n\t\tsetOpen(false);\r\n\t\tsetForm({ ...form, type: item.type })\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tsetBtnDisabled(false);\r\n\t}, [handleLength])\r\n\r\n\treturn (\r\n\t\t<div className=\"music__main-upload-container-length\">\r\n\t\t\t<p className=\"music__main-upload-container-subtitle\">Please select the type of uploaded content, Single track, Album or EP.</p>\r\n\r\n\t\t\t<div  className=\"music__main-upload-container-length-dropdown\">\t\r\n\t\t\t\t<div className=\"music__main-upload-container-length-dropdown-input\" onClick={() => setOpen(!open)}>\r\n\t\t\t\t\t<span className=\"music__main-upload-container-length-dropdown-input-value\">{active}</span>\r\n\t\r\n\t\t\t\t\t<span className={`music__main-upload-container-length-dropdown-input-carret${open ? ' active': ''}`}>\r\n\t\t\t\t\t\t<i className={`fas fa-chevron-down`}></i>\r\n\t\t\t\t\t</span>\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={`music__main-upload-container-length-dropdown-list ${open ? 'visible': \"\"}`}>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist.map(item => \r\n\t\t\t\t\t\t\t\t<li key={item.type} onClick={() => handleLength(item)}>{item.text}</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\t\r\n}\r\n\r\nexport default ChooseLength;\r\n\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {MainContext} from \"../index.jsx\"\r\n\r\nconst ChooseName = () => {\r\n\tconst { form, setForm, setBtnDisabled } = useContext(MainContext);\r\n\tconst [name, setName] = useState(form.name || '')\r\n\r\n    useEffect(() => {\r\n        \r\n        if (name && name.length > 0) {\r\n            setBtnDisabled(false)\r\n            setForm({ ...form, name: name })\r\n        }\r\n        \r\n        else {\r\n            setBtnDisabled(true)\r\n        }\r\n    }, [name])\r\n\r\n    const changeHandler = (event) => {\r\n        setName(event.target.value)\r\n    }\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"music__main-upload-container-name\">\r\n\t\t\t<p className=\"music__main-upload-container-subtitle\">Please select name of {form.type}</p>\r\n            <input type=\"text\" name=\"name\" required onChange={changeHandler} placeholder=\"name\" value={name}/> \r\n\t\t</div>\r\n\t)\t\r\n}\r\n\r\nexport default ChooseName;\r\n\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { MainContext } from \"../index.jsx\";\r\nimport Button from \"../../../components/Button\";\r\n\r\nconst ChooseGenre = () => {\r\n\tconst { setBtnDisabled, form, setForm } = useContext(MainContext);\r\n\r\n\tconst genres = ['Pop music', 'EDM', 'Lo-Fi', 'Rock', 'Pop punk', 'Future House', 'Deep House', \r\n\t'Alternative', 'Classic', 'Orchestral', 'Funk', 'Heavy Metal', 'R & B', 'Jazz', 'Indie', 'Folk',\r\n\t'Dubstep', 'Industrial', 'Techno', 'Progressive House', 'Acoustic'];\r\n\tconst [selected, setSelected] = useState(form.genre || [])\r\n\r\n\r\n\tlet genreLimit = (selected.length < 3);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetBtnDisabled(true)\r\n\t\t\r\n\t\tif (selected.length <= 3 && selected.length >= 1) {\r\n\t\t\tsetForm({...form, genre: selected})\r\n\t\t\tsetBtnDisabled(false)\r\n\t\t}\r\n\t}, [selected])\r\n\r\n\r\n\r\n\tconst checkBtn = item => { \r\n\t\tconst includesElem = selected.includes(item);\r\n\r\n\t\tif (!includesElem && genreLimit) {\r\n\t\t\tsetSelected([...selected, item]);\r\n\t\t}\r\n\r\n\t\tif (includesElem && (genreLimit || !genreLimit)){\r\n\t\t\tconst newSelected = selected.filter(e => e !== item);\r\n\t\t\tsetSelected(newSelected);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"music__main-upload-container-genres\">\r\n\t\t\t<p className=\"music__main-upload-container-subtitle\">Select a genres of your {form.type} (max 3 points)</p>\r\n\t\t\t<div className=\"music__main-upload-container-genres-wrap\">\r\n\t\t\t\t{\r\n\t\t\t\t\tgenres.map(item => \r\n\t\t\t\t\t\t<div key={item} className={\"music__main-upload-container-genres-wrap-button\"} onClick={() => checkBtn(item)} >\r\n\t\t\t\t\t\t\t<Button type=\"button\" text={item} active={selected.includes(item)}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\t\r\n}\r\n\r\nexport default ChooseGenre;\r\n\r\n","import React, { useState, useRef, useEffect }  from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst DragAndDrop = ({ description, field, file, setFile, type, night }) => {\r\n\tconst [draged, setDraged] = useState(false);\r\n\tconst fileRef = useRef()\t\r\n\r\n\tconst setFileHandler = (e) => {\r\n        if (e.target.files.length > 0) {\r\n            setFile(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n\tuseEffect(() => {\r\n\t    if (fileRef.current) {\r\n\t        fileRef.current.addEventListener('dragenter', handleDragIn)\r\n\t        fileRef.current.addEventListener('dragleave', handleDragOut)\r\n\t        fileRef.current.addEventListener('dragover', handleDrag)\r\n\t        fileRef.current.addEventListener('drop', handleDrop)\r\n\t\t\t\r\n\t\t\treturn () => {\r\n\t\t\t\tfileRef.current.removeEventListener('dragenter', handleDragIn)\r\n\t\t\t\tfileRef.current.removeEventListener('dragleave', handleDragOut)\r\n\t\t\t\tfileRef.current.removeEventListener('dragover', handleDrag)\r\n\t\t\t\tfileRef.current.removeEventListener('drop', handleDrop)\r\n\t\t\t}\r\n\t    }\r\n\t}, [fileRef]);\r\n\r\n\tconst handleDragIn = (e) => {\r\n\t\te.preventDefault();\r\n\t    e.stopPropagation();\r\n\t    setDraged(true);\r\n\t\t// console.log('drag in', e, fileRef);\r\n\t}\r\n\t\r\n\tconst handleDragOut = (e) => {\r\n\t\te.preventDefault();\r\n\t    e.stopPropagation();\r\n\t\tsetDraged(false);\r\n\t}\r\n\r\n\t// Disable open new window\r\n\tconst handleDrag = (e) => {\r\n\t    e.preventDefault();\r\n\t    e.stopPropagation();\r\n\t}\r\n\r\n\tconst handleDrop = async (e) => {\r\n\t    e.preventDefault();\r\n\t    e.stopPropagation();\r\n\r\n\t    if (e.dataTransfer.files.length > 0) {\r\n\t        setDraged(false);\r\n\t        setFile(e.dataTransfer.files[0]);\r\n\t    }\r\n\t}\r\n\r\n\treturn (\r\n        <label htmlFor=\"track\" className={`music__main-drag ${draged ? 'active' : ''} ${!night ? 'night': ''}`} ref={fileRef}>     \r\n\t\t\t<input id='track' type=\"file\" name=\"track\" accept={type} required placeholder=\"track file\" onChange={setFileHandler}/>\r\n            <div className=\"music__main-drag-wrap\">\r\n                <i className={`fas fa-folder${draged ? '-open': ''} music__main-drag-folder-icon`}></i>\r\n\t\t\t\t<h5>Drag your files, or click to browse</h5>\r\n\r\n                <p className=\"music__main-drag-description\">{description}</p>\r\n                {file?.name && \r\n\t\t\t\t\t<div className=\"music__main-drag-file\">\r\n\t\t\t\t\t\t<p className=\"music__main-drag-file-name\">{file.name}</p>\r\n\r\n\t\t\t\t\t\t<div className=\"music__main-drag-file-clear\" onClick={() => setFile(null)}>\r\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-xmark\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n            </div>\r\n\r\n        </label>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tnight: state.interface.night\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(DragAndDrop);","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {MainContext} from \"../index.jsx\";\r\nimport DragAndDrop from \"../../../components/DragAndDrop\";\r\nimport SongsTemp from \"../../../components/SongsTemp\";\r\nimport { connect } from \"react-redux\";\r\nimport { showAlert, showModal } from \"../../../redux/actions/interfaceActions\";\r\n\r\nconst ChooseTrackFile = ({ dispatch, name }) => {\r\n\tconst { form, setForm, setBtnDisabled } = useContext(MainContext);\r\n    const [file, setFile] = useState(form.track || null);\r\n    const [album, setAlbum] = useState(form.album || []);\r\n    const [edited, wasEdited] = useState(false);\r\n\r\n    const editSong = (item, index) => {\r\n        let prevName = {\r\n            name: item.name.split('.')[0],\r\n            ext: item.name.split('.')[1]\r\n        }\r\n\r\n        dispatch(showModal({\r\n            type: 'input',\r\n            value: prevName.name,\r\n            onSubmit: (newName) => {\r\n                let newFile = new File(\r\n                    [file],\r\n                    `${newName}.${prevName.ext}`,\r\n                    {type: file.type});\r\n\r\n                wasEdited(index);\r\n                setFile(newFile)\r\n            }\r\n        }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        setBtnDisabled(true);\r\n\r\n        if (file) {\r\n            if (form.type !== 'single') {\r\n                const check = album.some(i => i.name === file.name);\r\n\r\n                if (check) {\r\n                    dispatch(showAlert({type: 'error', text: 'Вы уже добавили этот трек !'}))\r\n                }\r\n                else {\r\n                    if (edited === false) {\r\n                        setAlbum([...album, file]);\r\n                    }\r\n                    else {\r\n                        let newAlbum = [...album];\r\n                        newAlbum[edited] = file;\r\n                        setAlbum(newAlbum);\r\n                        wasEdited(false);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                setBtnDisabled(false);\r\n                setForm({ ...form, track: file });\r\n            }\r\n        }\r\n        else {\r\n            if (album.length) {\r\n                setAlbum(album.filter(el => el.lastModified !== album[album.length - 1].lastModified))            \r\n            }\r\n        }\r\n    }, [file]);\r\n\r\n    useEffect(() => {\r\n\r\n        if (form.type !== 'single') {\r\n            setForm({...form, album: album});\r\n                    \r\n            if (form.type == 'ep' && album.length <= 5 && album.length >= 2) {\r\n                setBtnDisabled(false);\r\n            }\r\n            else if (form.type == 'album' && album.length > 4) {\r\n                setBtnDisabled(false);\r\n            }\r\n\r\n            else {\r\n                if (!album.length) {\r\n                    setFile(null);\r\n                }\r\n                setBtnDisabled(true);\r\n            }\r\n        }\r\n    }, [album]);\r\n\r\n\treturn (\r\n\t\t<div className=\"music__main-upload-container-files\">\r\n            <p className=\"music__main-upload-container-subtitle\">Upload file with a track (drag and drop file or click )</p>\r\n            {form.type !== 'single' ? \r\n                <>\r\n                    <p className=\"music__main-upload-container-description\">{form.type == 'ep' ? '' : ''}</p>\r\n                    <p className=\"music__main-upload-container-description\">The files must be uploaded in the order in which they will be displayed</p>\r\n                </>\r\n                : null\r\n            }\r\n            \r\n            <DragAndDrop description='File should be a wave/mp3' type=\"audio/wav, audio/mp3\" field='track' file={file} setFile={setFile}/>\r\n\r\n            {form.type !== 'single'\r\n                ? <div>\r\n                    <SongsTemp songs={album} type=\"Upload\" editSong={editSong} setSongs={setAlbum}/>\r\n                </div>\r\n                : null\r\n            }\r\n\t\t</div>\r\n\t)\t\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        name: state.profile.name\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ChooseTrackFile);\r\n\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {MainContext} from \"../index.jsx\";\r\nimport DragAndDrop from \"../../../components/DragAndDrop\";\r\n\r\nconst ChooseCoverFile = () => {\r\n\tconst { form, setForm, setBtnDisabled } = useContext(MainContext);\r\n    const [file, setFile] = useState(form.cover || null)\r\n\r\n    useEffect(() => {\r\n        setBtnDisabled(true)\r\n        if (file) {\r\n            setForm({ ...form, cover: file })\r\n            setBtnDisabled(false);\r\n        }\r\n    }, [file])\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"music__main-upload-container-files\">\r\n            <p className=\"music__main-upload-container-subtitle\">Upload file with a cover (drag and drop file or click )</p>\r\n            \r\n            <DragAndDrop description='File should be a jpeg/png' type=\"image/jpeg, image/png\" field='cover' file={file} setFile={setFile}/>\r\n        </div>\r\n\t)\t\r\n}\r\n\r\nexport default ChooseCoverFile;\r\n\r\n","import React from \"react\";\r\n\r\nconst FinalStep = () => {\r\n\treturn (\r\n\t\t<div className=\"music__main-upload-container-final\">\r\n            <p className=\"music__main-upload-container-subtitle\">Now, you can send everything</p>\r\n        </div>\r\n\t)\t\r\n}\r\n\r\nexport default FinalStep;\r\n\r\n","import React, { useState, createContext, useEffect } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport ChooseLength from \"./steps/ChooseLength\";\r\nimport ChooseName from \"./steps/ChooseName\";\r\nimport ChooseGenre from \"./steps/ChooseGenre\";\r\nimport ChooseTrackFile from \"./steps/ChooseTrackFile\";\r\nimport ChooseCoverFile from \"./steps/ChooseCoverFile\";\r\nimport FinalStep from \"./steps/FinalStep\"\r\n\r\nimport Preloader from \"../../components/Preloader\";\r\nimport Button from \"../../components/Button\";\r\n\r\nimport { uploadSong } from '../../redux/actions/songsActions';\r\nimport { uploadAlbum } from \"../../redux/actions/albumsActions.js\";\r\nimport { showAlert, changeDir } from \"../../redux/actions/interfaceActions\";\r\n\r\nexport const MainContext = createContext();\r\n\r\nconst Upload = ({ dispatch }) => {\r\n\r\n    const [load, setLoad] = useState(false);\r\n\r\n    const [animateLoading, setAnimateLoading] = useState(false);\r\n    const [form, setForm] = useState({type: 'single'});\r\n    const [btnDisabled, setBtnDisabled ] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const [scrollSteps, setScrollSteps] = useState(['Type', 'Name', 'Genre', \"Upload files\", \"Upload Cover\", 'Final']);\r\n    \r\n    const [steps, setSteps] = useState([\r\n        ChooseLength,\r\n        ChooseName,  \r\n        ChooseGenre,\r\n        ChooseTrackFile, \r\n        ChooseCoverFile, \r\n        FinalStep\r\n    ]);\r\n\r\n    \r\n    const [step, setStep] = useState(0);\r\n    const Step = steps[step];\r\n        \r\n    const changeStep = (dest) => {\r\n        setAnimateLoading(true);\r\n        dest == 'next' ? setStep(step + 1) : setStep(step - 1);\r\n    }\r\n\r\n    const uploadHandler = async () => {\r\n        try {\r\n            setLoad(true);\r\n\r\n            const formData = new FormData();\r\n            \r\n            for (let key in form) {\r\n                if (key === 'album') {\r\n                    form[key].forEach((item, index) => {\r\n                        formData.append('track', form[key][index])\r\n                    })\r\n                }\r\n                if (key === 'genre') {\r\n                    form[key].forEach((item, index) => {\r\n                        formData.append('genre', form[key][index])\r\n                    })\r\n                }\r\n                else {\r\n                    formData.append(key, form[key])\r\n                }\r\n            }\r\n\r\n            if (form.type == 'single') {\r\n                await dispatch(uploadSong(formData));\r\n            }\r\n            else {\r\n                await dispatch(uploadAlbum(formData));\r\n            }\r\n\r\n            setLoad(false)\r\n            dispatch(changeDir({\r\n                name: 'Profile',\r\n                path: '/profile'\r\n            }));\r\n            history.push('/profile');\r\n            \r\n        }\r\n        catch (e) {\r\n            dispatch(showAlert({type: 'error', text: e.message}))\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        setAnimateLoading(true);\r\n        setTimeout(() => setAnimateLoading(false), 2000);\r\n    }, [step]);\r\n\r\n\r\n    if (load) {\r\n        return ( \r\n            <Preloader/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <MainContext.Provider value={{ setLoad, setForm, form, setBtnDisabled, setSteps, steps, scrollSteps, setScrollSteps }}>         \r\n            {!animateLoading && (\r\n                <div className={`music__main-upload ${animateLoading ? 'hidden': ''}`}>\r\n        \r\n                    <div className=\"music__main-upload-container\">        \r\n                        <h2 className=\"subtitle\">Step {step + 1}</h2>\r\n                        <Step/>\r\n\r\n                        <div className=\"music__main-upload-container-btns\">\r\n                            {step > 0 && <Button text=\"Back\" type=\"button\" onClick={() => changeStep('prev')} />}\r\n                            {(step + 1 !== steps.length) && <Button text=\"Next\" type=\"button\" onClick={() => changeStep('next')} disabled={btnDisabled}/>}\r\n                            {step == steps.length - 1 && <Button className=\"music__main-upload-container-final-btn\" onClick={uploadHandler} type=\"button\" text=\"Upload\" active={load}/>}\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                \r\n                    <div className={`music__main-upload-scroll `}>\r\n                        {\r\n                            scrollSteps.map((item, index) => \r\n                            <div key={item} className=\"music__main-upload-scroll-wrap\">   \r\n                                <div className={`music__main-upload-scroll-wrap-circle ${(index <= step) && \"active\"}`} onClick={() => index <= step && setStep(index)}></div>\r\n                                <span>{item}</span>\r\n                                {(index + 1 !== scrollSteps.length) && <div className=\"music__main-upload-scroll-wrap-line\"></div>}\r\n                            </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </MainContext.Provider>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nexport default connect(mapStateToProps)(Upload);","import React, { useEffect, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { changeDir } from '../../redux/actions/interfaceActions';\r\nimport { changeProfileDescription, changeProfileName, logout} from '../../redux/actions/profileActions';\r\n\r\nimport image  from '../../assets/img/Avatar.svg';\r\n\r\nimport SongsTemp from \"../../components/SongsTemp\";\r\nimport CardsTemp from \"../../components/CardsTemp\";\r\nimport Preloader from \"../../components/Preloader\";\r\nimport Button from \"../../components/Button\";\r\nimport PrevPage from \"../../components/PrevPage\";\r\nimport { apiUrl } from '../../config/constants';\r\n\r\nconst Profile = ({ dispatch, profile, mySongs, myAlbums, night, loading }) => {\r\n    const frequent = {\r\n        artists: [\r\n            { \r\n                \"name\": \"Валентин Стрыкало\",\r\n                \"link\": \"#\"\r\n            },\r\n            { \r\n                \"name\": \"Alex Kos\",\r\n                \"link\": \"601d8286665abe1cf86c40f6\"\r\n            },\r\n            { \r\n                \"name\": \"Grandson\",\r\n                \"link\": \"#\"\r\n            }\r\n        ],\r\n        genres: [\r\n            {\r\n                \"name\": \"EDM\",\r\n                \"link\": \"#\"\r\n            },\r\n            { \r\n                \"name\": \"Lo-Fi\",\r\n                \"link\": \"#\"\r\n            },\r\n            { \r\n                \"name\": \"Post Punk\",\r\n                \"link\": \"#\"\r\n            }\r\n        ]\r\n    }\r\n    \r\n    const avatarRef = useRef(null)\r\n\r\n    useEffect(() => {\r\n        if (!profile.avatar.length) {\r\n            avatarRef.current.setAttribute('data-nick', profile.avatarNick)\r\n        }\r\n    }, [profile.name])\r\n\r\n\r\n    if (loading && profile) {\r\n        return (\r\n            <Preloader/>\r\n        );\r\n    } \r\n\r\n    return (\r\n        <div className={`music__main-profile ${!night ? \"night\" : \"\"}`}>\r\n            <div className=\"music__main-profile-header\">\r\n                \r\n                <div className=\"music__main-profile-header-wrap\">\r\n                    \r\n                    <PrevPage classNames={\"center dark\"}/>\r\n                    \r\n                    <Link to=\"/change-avatar\">\r\n                        <div className=\"music__main-profile-header-wrap-avatar\" ref={avatarRef}>\r\n                            <img src={apiUrl + profile.avatar || image} alt=\"\"/>\r\n                        \r\n                            <div className=\"music__main-profile-header-wrap-avatar-change\" onClick={() => dispatch(changeDir('change-avatar'))}>\r\n                                <span>Change</span>\r\n                            </div>\r\n                        </div>          \r\n                    </Link>\r\n\r\n                    <div className=\"music__main-profile-header-wrap-nick\">\r\n                        <div className=\"music__main-profile-header-wrap-nick-name\">\r\n                            <h1>{profile.name}</h1>\r\n                                \r\n                            <span  onClick={() => dispatch(changeProfileName())}>\r\n                                <i className=\"fas fa-pencil-alt\"></i>\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"music__main-profile-header-wrap-nick-info\">    \r\n                            {profile.email && <span>@{profile.email}</span>}\r\n                            <p>listener</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \r\n            {frequent &&\r\n                <div className=\"music__main-profile-header-frequents\">\r\n                    <div className=\"music__main-profile-header-frequents-frequent\">\r\n                        <span>Frequent artists:</span>\r\n\r\n                        {\r\n                            frequent.artists.map((item, index) => {\r\n                                return (\r\n                                    <Link className=\"music__main-profile-header-frequents-frequent-item\" to={`/artist/${item.link}`} key={index}>\r\n                                        {item.name}\r\n                                    </Link>\r\n                                )\r\n                            })\r\n                        }                            \r\n                    </div>\r\n\r\n                    <div className=\"music__main-profile-header-frequents-frequent\">\r\n                        <span>Frequent genres:</span>\r\n\r\n                        {\r\n                            frequent.genres.map((item, index) => {\r\n                                return (\r\n                                    <Link className=\"music__main-profile-header-frequents-frequent-item\" to={`/genre/${item.link}`} key={index}>\r\n                                        {item.name}\r\n                                    </Link>\r\n                                )\r\n                            })\r\n                        } \r\n                    </div>\r\n\r\n                    <div className=\"music__main-profile-header-frequents-frequent-desc\">\r\n                        <span className=\"music__main-profile-header-frequents-frequent-desc-title\">Description:</span>\r\n                        <span className=\"music__main-profile-header-frequents-frequent-desc-text\">{profile.description}</span>\r\n                        \r\n                        <span className=\"music__main-profile-header-frequents-frequent-desc-icon\">\r\n                            <i className=\"fas fa-pencil-alt\" onClick={() => dispatch(changeProfileDescription())}></i>\r\n                        </span>\r\n                        \r\n                    </div>\r\n                </div>\r\n            }\r\n            </div>\r\n\r\n            <div className=\"music__main-profile-settings\">\r\n                <h2 className=\"subtitle\">Settings</h2>\r\n\r\n                <ul className=\"music__main-profile-settings-list\">\r\n                    <li className=\"music__main-profile-settings-list-item\">\r\n                        <span>Language:</span>\r\n\r\n                        <div className=\"music__main-profile-settings-list-item-select\">           \r\n                            <Button type=\"select\" list={['English', 'Russian', 'Germany']}/>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"music__main-profile-settings-list-item\">\r\n                        <span>Quality of audio:</span>\r\n\r\n                        <div className=\"music__main-profile-settings-list-item-select\">\r\n                            <Button type=\"select\" list={['High', 'Middle']}/>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"music__main-profile-settings-list-item\">\r\n                        <span>Files on device:</span>\r\n\r\n                        <Button type=\"button\" text=\"C:/Users/Alex/AppData/Roaming/maze-music/data\" class=\"active mr\" />\r\n                    </li>\r\n                    <li className=\"music__main-profile-settings-list-item\">\r\n                        <span>Notifications:</span>\r\n\r\n                        <div className=\"music__main-profile-settings-list-item-checkbox\">\r\n                            <Button type={'checkbox'}/>\r\n                        </div>\r\n                    </li>\r\n\r\n                    <li className=\"music__main-profile-settings-list-item\">\r\n                        <Link to=\"/auth\" onClick={async () => {\r\n                            dispatch(logout())\r\n                        }}>\r\n                            <span>Logout</span>\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            \r\n            <div className=\"music__main-profile-songs\">\r\n                <h2 className=\"subtitle\">Songs</h2>\r\n                {mySongs?.length > 0 ?\r\n                    <SongsTemp songs={mySongs} my type={'Songs'} />\r\n                    :\r\n                    <span className=\"music__main-empty-text\">You have no songs</span>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"music__main-profile-albums\">\r\n                <h2 className=\"subtitle\">Albums</h2>\r\n                {myAlbums?.length > 0 ?\r\n                    <CardsTemp items={myAlbums} to=\"Albums\" my/>\r\n                    :\r\n                    <span className=\"music__main-empty-text\">You have no albums</span>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profile,\r\n        mySongs: state.profile.songs,\r\n        myAlbums: state.profile.albums,\r\n        savedSongs: state.profile.saved_songs,\r\n        start: state.onPlay.start,\r\n        song: state.onPlay.song,\r\n        night: state.interface.night,\r\n        loading: state.interface.loading\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst Settings = ({ dispatch, profile }) => {\r\n    \r\n    return (\r\n        <div className=\"music__main-settings\">\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profile\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Settings)","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport CardsTemp from \"../../components/CardsTemp\";\r\n\r\nconst Search = ({ artists, night }) => {\r\n\treturn (\r\n\t\t<div className={`music__main-search`}>\r\n\t\t\t\r\n\t\t\t<div className=\"music__main-search-container\">\r\n\t\t\t\t<h2 className=\"subtitle\">Search</h2>\r\n\t\t\r\n\t\t\t\t<div  className=\"music__main-search-container-input\">\r\n\t\t\t\t\t<i className=\"fas fa-search\" onClick={(e) => {\r\n\t\t\t\t\t\tif (e.target.nextSibling) {\r\n\t\t\t\t\t\te.target.nextSibling.focus()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}></i>\r\n\t\t\t\t\t<input type=\"text\" placeholder='Type some track, artist, album or playlist'/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"music__main-search-container-recent\">\r\n\t\t\t\t\t<h2 className=\"subtitle\">Recent listened</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<CardsTemp items={artists} to=\"Artists\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tartists: state.artists.recomendArtists,\r\n\t\tnight: state.interface.night\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Search);","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport { changeProfileAvatar } from \"../../redux/actions/profileActions\"\r\n\r\nimport DragAndDrop from \"../../components/DragAndDrop\";\r\nimport Button from \"../../components/Button\";\r\n\r\nconst ChangeAvatar = ({ dispatch }) => {\r\n\tconst [file, setFile] = useState(null);\r\n\tconst history = useHistory()\r\n\r\n\treturn (\r\n\t\t<div className=\"music__main-profile-change-avatar\">\r\n\t\t\t<DragAndDrop description='File should be a jpeg/png' type=\"image/jpeg, image/png\" field='cover' file={file} setFile={setFile}/>\r\n\r\n\t\t\t<div onClick={() => dispatch(changeProfileAvatar(file, history))} className=\"music__main-profile-change-avatar-btn\">\r\n\t\t\t\t<Button text=\"Upload\" type=\"button\" active={file?.length}/>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tprofile: state.profile\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ChangeAvatar);\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { changeDir, setNight, showAlert  } from \"../../redux/actions/interfaceActions\";\r\nimport image  from '../../assets/img/Avatar.svg';\r\nimport { apiUrl } from \"../../config/constants\";\r\n\r\nconst Header = ({ dispatch, profile, night, path, isFilled, toStartPage, collapsed }) => {\r\n    \r\n    const avatarRef = useRef(null);\r\n    // const [scrolledPosition, setScrolledPosition] = useState(0);\r\n    \r\n    useEffect(() => {\r\n        if (avatarRef && profile.name) {\r\n            avatarRef.current.setAttribute('data-nick', profile.avatarNick)\r\n        }\r\n    }, [profile.name]);\r\n    \r\n    return (\r\n    <div className={`music__main-header ${isFilled ? 'filled' : ''} ${collapsed ? 'collapsed' : ''}`}>\r\n                \r\n        <span className={`music__main-header-dir`} onClick={toStartPage}>{path.name}</span>\r\n\r\n        <div className=\"music__main-header-head\">\r\n            <ul className={`music__main-header-head-navbar${night ? \" dark\" : \"\"}`}>\r\n                <li onClick={() => dispatch(showAlert({ type: 'warning', text: 'Вы переходите в настройки !' }))}>\r\n                    {/* <Link to={\"/settings\"} onClick={() => dispatch(changeDir({name: \"Settings\", path: '/settings'}))}> */}\r\n                        <span><i className=\"fas fa-sliders-h\"></i></span>\r\n                    {/* </Link> */}\r\n                </li>\r\n                <li onClick={() => dispatch(setNight())}>\r\n                    <span><i className={`fas fa-${!night ? \"sun\" : \"moon\"}`}></i></span>\r\n                </li>\r\n\r\n                <li onClick={() => dispatch(showAlert({ type: 'success', text: 'Уведомления включены' }))}>\r\n                    <span><i className={`fas fa-bell`}></i></span>\r\n                </li>\r\n            </ul>\r\n\r\n            <Link to={\"/profile\"} onClick={() => dispatch(changeDir({name: \"Profile\", path: '/profile'}))}>\r\n                <div className=\"music__main-header-head-avatar\" ref={avatarRef}>\r\n                    <img src={apiUrl + profile.avatar || image} alt=\"\"/>\r\n                </div>\r\n            </Link>\r\n            <h3>{profile.name}</h3>\r\n\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    header: state.interface.header,\r\n    night: state.interface.night,\r\n    path: state.interface.path,\r\n    profile: state.profile,\r\n    collapsed: state.interface.sidebarCollapsed\r\n})\r\n\r\nexport default connect(mapStateToProps)(Header)","import React, { useEffect } from \"react\";\r\nimport { hideAlert } from \"../../redux/actions/interfaceActions\";\r\nimport { useDispatch, useStore } from \"react-redux\";\r\n\r\nconst Alert = ({ items }) => {\r\n    const dispatch = useDispatch();\r\n    const alerts = useStore().getState().interface.alert;\r\n\r\n    useEffect(() => {\r\n        if (alerts?.length) {\r\n            let alertTimeout;\r\n            \r\n            alertTimeout = setTimeout(() => {\r\n                dispatch(hideAlert(alerts.length - 1));\r\n            }, 2000);\r\n        \r\n            return () => clearTimeout(alertTimeout);\r\n        }\r\n    }, [alerts]);\r\n\r\n\r\n    return (\r\n        <div className=\"music__main-alerts\">\r\n        {\r\n            items.map((item, index) => (\r\n                <div className={`music__main-alert ${item.type}`} key={index}>\r\n                    <span>{item.text}</span>    \r\n                    <i onClick={() => dispatch(hideAlert(index))} className=\"fas fa-times\"></i>\r\n                </div>\r\n            ))\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Alert;\r\n\r\n","import React, { useState, useRef } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { hideModal } from \"../../redux/actions/interfaceActions\";\n\nimport Button from \"../Button\";    \n\nconst Modal = ({ dispatch, type, placeholder, value, onSubmit }) => {\n    const [localValue, setLocalValue] = useState(value || '');\n    const textRef = useRef();\n\n    const submitHandler = (val) => {\n        onSubmit(val);\n        dispatch(hideModal());\n    }\n\n    return (\n        <div className={`music__main-modal ${type == 'hidden' ? 'hidden': ''}`}>\n            <div className=\"music__main-modal-bcg\" onClick={() => type !== 'input' ? dispatch(hideModal()) : (textRef.current !== document.activeElement) ? dispatch(hideModal()) : false}></div>  \n\n            <div className=\"music__main-modal-view\">\n            {\n                (type == 'input') ?\n                        <input \n                            type=\"text\" \n                            name=\"name\" \n                            required \n                            ref={textRef}\n                            className=\"music__main-modal-view-input-text\"\n                            onChange={e => setLocalValue(e.target.value)} \n                            placeholder={placeholder ?? value} \n                            value={localValue}\n                        />\n                        : (type == 'confirm') ?\n                        <input/>\n                : null\n            }\n\n                <div className=\"music__main-modal-view-btns\">\n                    <Button \n                        text=\"Cancel\" \n                        onClick={() => dispatch(hideModal())}/>\n                    <Button \n                        className={'green'}\n                        text=\"Submit\" \n                        onClick={() => submitHandler(localValue)}/>\n                </div>\n            </div>\n        </div>     \n    );\n}\n\nconst mapStateToProps = state => {\n    return state;\n}\n\nexport default connect(mapStateToProps)(Modal);","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nconst MainBcg = ({ night }) => (\r\n    <div className={`music__main-bg ${!night ? 'night' : ''}`}></div>\r\n)\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        night: state.interface.night\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(MainBcg);","import React, { useRef, useEffect, useState } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n// Selectors\r\nimport FullPlayer from '../components/FullPlayer';\r\nimport Albums from './Albums';\r\nimport Album from \"./Album\";\r\nimport For from './For';\r\nimport Artist from './Artist';\r\nimport Playlists from './Playlists';\r\nimport Songs from './Songs';\r\nimport Upload from './Upload';\r\nimport Profile from './Profile';\r\nimport Settings from './Settings';\r\nimport Search from \"./Search\";\r\nimport ChangeAvatar from \"./Profile/ChangeAvatar\";\r\n\r\nimport Header from \"../components/Header\";\r\nimport Alert from \"../components/Alert\";\r\nimport Modal from \"../components/Modal\";\r\nimport MainBcg from \"../components/MainBcg\";\r\nimport Preloader from \"../components/Preloader\";\r\n\r\nimport { userToken } from \"../config/constants\";\r\n\r\nconst Main = ({ onSavePlaylist, defaultPath, alert, pathName, profileName, modal  }) => {\r\n    const token = userToken(),\r\n        viewWrap = useRef(null),\r\n        [isFilled, setIsFilled] = useState(false);\r\n\r\n    const handleScroll = e => {\r\n        if (e.target.scrollTop >= 40) {\r\n            setIsFilled(true);\r\n        }\r\n        else {\r\n            setIsFilled(false);\r\n        }\r\n    }\r\n\r\n    const toStartPage = () => {\r\n        viewWrap.current.scroll({top: 0, left: 0, behavior: 'smooth' })\r\n    }\r\n\r\n    useEffect(() => {\r\n        viewWrap.current.addEventListener('scroll', handleScroll);\r\n    }, [isFilled]);\r\n\r\n    return (\r\n        <div className=\"music__main\" ref={viewWrap}>\r\n            <FullPlayer />\r\n\r\n            <Header {...{isFilled, toStartPage}} />\r\n\r\n            {\r\n                profileName ? \r\n                <div className=\"music__main-wrap\">\r\n                    {\r\n                        (pathName === 'Search' || pathName === 'Upload') && \r\n                        <MainBcg/>\r\n                    }\r\n\r\n                    <Route path={\"/playlists\"} exact component={Playlists}/>\r\n\r\n                    <Route path={\"/for-you\"} exact>\r\n                        <For onSavePlaylist={onSavePlaylist}/>\r\n                    </Route>\r\n\r\n                    <Route path=\"/\">\r\n                    {\r\n                        token ? <Redirect to={defaultPath.src}/> : <Redirect to='/auth/login' />\r\n                    }\r\n                    </Route>\r\n                    \r\n                    <Route path={'/change-avatar'} exact component={ChangeAvatar}/>\r\n                    <Route path={\"/artist/:id\"} exact component={Artist}/>\r\n                    <Route path={\"/album/:id\"} component={Album} />\r\n                    <Route path={\"/albums\"} exact component={Albums}/>\r\n                    <Route path={\"/songs\"} exact component={Songs}/>\r\n                    <Route path={\"/upload\"} component={Upload}/>\r\n                    <Route path={\"/search\"} exact component={Search}/>\r\n                    <Route path={\"/profile\"} exact component={Profile}/>\r\n                    <Route path=\"/settings\" component={Settings}/>\r\n\r\n                    {alert.length ? <Alert items={alert}/> : null}\r\n                    <Modal {...modal} />\r\n                </div>\r\n                :\r\n                <Preloader/>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    \r\n    return {\r\n        start: state.onPlay.start,\r\n        song: state.songs.song,\r\n        defaultPath: state.interface.defaultPath,\r\n        profileName: state.profile.name,\r\n        alert: state.interface.alert,\r\n        modal: state.interface.modal,\r\n        pathName: state.interface.path.name\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Main);","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Route, Link, useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { changeAuth, showAlert } from '../../redux/actions/interfaceActions';\r\nimport { login, recoveryPass, register } from '../../redux/actions/profileActions';\r\n\r\nimport Preloader from \"../../components/Preloader\"\r\nimport Button from \"../../components/Button\";\r\nimport Alert from \"../../components/Alert\";\r\n\r\nimport { ReactComponent as Logo } from '../../assets/img/Logo.svg';\r\n\r\nconst AuthPage = ({ dispatch, authType, auth,  defaultPath, alert, loading }) => {\r\n    \r\n    const [form, setForm] = useState({\r\n        name: '', email: '', password: ''\r\n    });\r\n    const history = useHistory();\r\n    const ref = useRef('input_teg')\r\n    \r\n    const [ loadAnimate, setLoadAnimate ] = useState(false);\r\n    \r\n    const [error] = useState(false)\r\n    \r\n    const changeHandler = (event) => {\r\n        setForm({...form, [event.target.name]: event.target.value });\r\n    }\r\n    \r\n    let btnDisable = (form.email !== \"\" && form.password !== \"\");\r\n    \r\n    const registerHandler = async () => {\r\n        try {\r\n            const registerTry = await dispatch(register(form));\r\n            \r\n            if (registerTry.isSuccess) {\r\n                history.push('/auth/login') \r\n            }\r\n        }\r\n        catch (e) {\r\n            dispatch(showAlert({type: 'error', text: e.message}))\r\n        }\r\n    }\r\n    \r\n    const loginHandler = async () => {\r\n        try {\r\n            await dispatch(login(form));\r\n            \r\n            if (auth?.isSuccess) {\r\n                history.push(defaultPath.src)              \r\n            }\r\n            else {\r\n                loadAnimateFunc()\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    \r\n    const recoveryHandler = async () => {\r\n        try {\r\n            let recoveryTry = await dispatch(recoveryPass(form.email))\r\n            if (recoveryTry.isSuccess) {\r\n                dispatch(changeAuth(true));\r\n            }\r\n        }\r\n        catch (e) {\r\n            dispatch(showAlert({type: 'error', text: e.message}))\r\n        }\r\n    }\r\n    \r\n    let loadAnimateFunc = () => {\r\n        setLoadAnimate(false);\r\n        \r\n        return setTimeout(() => {\r\n            setLoadAnimate(true);\r\n        }, 2200);\r\n    }\r\n    \r\n    useEffect(() => {\r\n        loadAnimateFunc();\r\n    }, [])\r\n    \r\n    return (\r\n        !loading ? ( \r\n            \r\n            <div className=\"music__auth\">\r\n                <div className={`music__auth-logo`}>\r\n                    <Logo />\r\n                </div>\r\n                \r\n                <div className=\"music__auth_bg\"></div>\r\n                \r\n                {loadAnimate &&  \r\n                    <div className=\"music__auth-box\">\r\n                    \r\n                    <Route path=\"/auth/login\">\r\n                    <h1>Login</h1>\r\n                    \r\n                    {error ? \r\n                        (<Button type=\"message\" text={error}/>) :\r\n                        (<div className=\"music-form\">\r\n                            <input \r\n                                type=\"text\" \r\n                                placeholder=\"example@gmail.com\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                onChange={changeHandler}/>\r\n                        \r\n                            <input \r\n                                type={\"password\"}\r\n                                placeholder=\"11111111\"\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                onChange={changeHandler}/>\r\n                        \r\n                        <div className=\"music-form-btns\">\r\n                            <Button onClick={loginHandler} disabled={!btnDisable} type=\"button\" text=\"Login\"/>\r\n                            <Link to=\"/auth/register\" id=\"btn_nonreg\">Register</Link>\r\n                        </div>\r\n                        </div> \r\n                        )\r\n                    }\r\n                    </Route>\r\n                    \r\n                    <Route path=\"/auth/register\">\r\n                        <h1>Register</h1>\r\n                        \r\n                        <div className=\"music-form\">\r\n                            <input \r\n                                type=\"text\" \r\n                                placeholder=\"Your_Name\"\r\n                                id=\"name\"\r\n                                name=\"name\"\r\n                                onChange={changeHandler}/>\r\n                            \r\n                            <input \r\n                                type=\"text\" \r\n                                placeholder=\"example@gmail.com\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                onChange={changeHandler}/>\r\n                            \r\n                            <input \r\n                                type={\"password\"}\r\n                                placeholder=\"11111111\"\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                onChange={changeHandler}/>\r\n                        \r\n                            <div className=\"music-form-btns\">\r\n                            \r\n                                <Button onClick={registerHandler} disabled={!btnDisable} type=\"button\" text=\"Register\" />\r\n                                <Link to=\"/auth/login\" id=\"btn_nonreg\">Login</Link>\r\n                            </div>\r\n                        </div>\r\n                    </Route>\r\n                    \r\n                    <Route path=\"/auth/recovery\">\r\n                        <h1>Recovery password</h1>\r\n                        \r\n                        {!authType ? \r\n                            <div className=\"music-form\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"example@gmail.com\"\r\n                                    id=\"email\"\r\n                                    name=\"email\"\r\n                                    ref={ref}\r\n                                    onChange={changeHandler}/>\r\n                                \r\n                                <div className=\"music-form-btns\">\r\n                                    <button onClick={recoveryHandler} disabled={loading}>Send</button>\r\n                                </div>\r\n                            </div>\r\n                            : \r\n                            \r\n                            <div className=\"music__auth-box\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"password\"\r\n                                    id=\"password\"\r\n                                    name=\"password\"\r\n                                    onChange={changeHandler}/>\r\n                                \r\n                                <div className=\"music-form-btns\">\r\n                                    <button onClick={recoveryHandler} disabled={loading}>Send</button>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        \r\n                    </Route>\r\n                    \r\n                    <Link to=\"/auth/recovery\">\r\n                        <span className=\"music-form-forgot\">Forgot password ?</span>\r\n                    </Link>\r\n                </div>        \r\n                }\r\n            {alert.length ? <Alert items={alert}/> : null}\r\n            \r\n            </div>)\r\n            :\r\n            (<Preloader/>)\r\n            );\r\n        }\r\n        \r\n        const mapStateToProps = (state) => ({\r\n            authType: state.interface.authType,\r\n            defaultPath: state.interface.defaultPath,\r\n            alert: state.interface.alert,\r\n            loading: state.interface.loading,\r\n            auth: state.profile.auth\r\n        })\r\n        \r\n        export default connect(mapStateToProps)(AuthPage);","import React, { useState, useEffect } from 'react';\r\nimport { Redirect, Route, useHistory } from 'react-router-dom';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setProfile } from './redux/actions/profileActions';\r\n\r\nimport './index.scss';\r\n\r\nimport Sidebar from './components/Sidebar';\r\nimport Main from './pages';\r\nimport Player from './components/Player';\r\nimport AuthPage from './pages/Auth';\r\nimport Preloader from \"./components/Preloader\"\r\nimport { userToken } from \"../src/config/constants\";\r\n\r\nfunction App({ dispatch, song, night, profile, defaultPath }) {\r\n\r\n  const [fullScreen, setFullScreen] = useState(false);\r\n  const token = userToken();\r\n\r\n  useEffect(() => {\r\n    if (token && !profile.name) {\r\n      dispatch(setProfile());\r\n    }\r\n  }, [token, profile, dispatch]);\r\n  \r\n  \r\n  return (\r\n    <>\r\n      {!token ?\r\n        <>\r\n          <Redirect to=\"/auth/login\" />      \r\n\r\n          <Route path=\"/auth\" >\r\n            <AuthPage/>\r\n          </Route>\r\n        </>\r\n        :\r\n        <>\r\n          <Redirect to={defaultPath.src}/>\r\n          <div className={ !night ? \"music-night\" : \"music\"}>\r\n            <Sidebar/>\r\n            \r\n            <Main />\r\n        \r\n            <Player {...{setFullScreen, fullScreen}} />\r\n          </div>\r\n        </>\r\n      }\r\n      </>\r\n    );\r\n  }\r\n  \r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profile,\r\n    song: state.onPlay.song,\r\n    night: state.interface.night,\r\n    defaultPath: state.interface.defaultPath\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);\r\n ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router} from 'react-router-dom';\r\n\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { Provider } from 'react-redux';\r\nimport { rootReducer } from './redux/rootReducer';\r\n\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\n\r\nconst store = createStore(rootReducer, \r\n  compose(\r\n    applyMiddleware(thunk),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()  \r\n));\r\n\r\nexport default store;\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <Provider store={store}> \r\n        <App />\r\n      </Provider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}